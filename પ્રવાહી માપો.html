<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ркмрк╛рк│ркХрлЛ ркорк╛ркЯрлЗ рк╕рлНркХрлЗрк▓ ркЧрлЗрко</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ркХрк╕рлНркЯрко CSS: рклрлЛркирлНркЯ ркЕркирлЗ рккрлГрк╖рлНркаркнрлВркорк┐ рк╕рлЗркЯрк┐ркВркЧрлНрк╕ */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e0f7fa; /* ркЖркЫрлЛ ркЖркХрк╛рк╢рлА рк╡рк╛ркжрк│рлА ркмрлЗркХркЧрлНрк░рк╛ркЙркирлНркб */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .game-container {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            max-width: 480px; 
            width: 100%;
            text-align: center;
            border: 5px solid #00bcd4; /* ркдрлЗркЬрк╕рлНрк╡рлА ркХрк┐ркирк╛рк░рлА */
        }

        /* ркХрлЗркирк╡рк╛рк╕ ркорк╛ркЯрлЗ ркХрк╕рлНркЯрко рк╢рлИрк▓рлА */
        #rulerCanvas {
            width: 100%;
            max-width: 380px; 
            height: 380px; 
            display: block;
            margin: 20px auto;
            border-radius: 12px;
            background-color: #f7f7f7; /* рк╣рк│рк╡рлЛ ркЧрлНрк░рлЗ ркмрлЗркХркЧрлНрк░рк╛ркЙркирлНркб */
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
        }

        /* рк╕рлНрк▓рк╛ркЗркбрк░ ркорк╛ркЯрлЗ ркХрк╕рлНркЯрко рк╢рлИрк▓рлА */
        #levelSlider {
            width: 90%;
            margin: 15px auto;
            -webkit-appearance: none;
            appearance: none;
            height: 15px;
            border-radius: 8px;
            background: #bdbdbd;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }

        #levelSlider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #ff7043; /* ркирк╛рк░ркВркЧрлА рк░ркВркЧ */
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }

        #levelSlider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #ff7043;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }


        .btn-check {
            background-color: #4caf50; /* ркдрлЗркЬрк╕рлНрк╡рлА рк▓рлАрк▓рлЛ рк░ркВркЧ */
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
            box-shadow: 0 6px #388e3c;
        }

        .btn-check:hover {
            background-color: #388e3c;
        }

        .btn-check:active {
            transform: translateY(3px);
            box-shadow: 0 3px #388e3c;
        }

        /* ркорлЗрк╕рлЗркЬ ркорк╛ркЯрлЗ рк╢рлИрк▓рлА */
        .message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 10px;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .correct {
            background-color: #a5d6a7;
            color: #1b5e20;
        }

        .incorrect {
            background-color: #ef9a9a;
            color: #b71c1c;
        }
        
        .instruction {
            padding: 10px 15px;
            background-color: #ffcc80; /* рк╣рк│рк╡рлЛ ркирк╛рк░ркВркЧрлА/рккрлАрк│рлЛ */
            color: #e65100;
            border-radius: 8px;
            font-weight: 700;
            font-size: 1.25rem;
            margin-bottom: 20px;
        }

        .creator-info {
            margin-top: 15px;
            font-size: 0.85rem;
            color: #607d8b; /* рк░рк╛ркЦрлЛркбрлА рк╡рк╛ркжрк│рлА */
        }
    </style>
</head>
<body>

<div class="game-container">
    <h1 class="text-4xl font-extrabold text-pink-600 mb-4">рккрлНрк░рк╡рк╛рк╣рлА ркорк╛рккрлЛ! ЁЯзк</h1>
    
    <div id="targetInstruction" class="instruction"></div>

    <canvas id="rulerCanvas" width="380" height="380"></canvas>

    <!-- рк╕рлНрк▓рк╛ркЗркбрк░ ркЗркирлНркЯрк░рклрлЗрк╕ --><div class="mt-4 flex flex-col items-center justify-center">
        <label for="levelSlider" class="text-xl font-medium text-gray-700 mb-2">рк╕рлНркдрк░ ркЧрлЛркарк╡рлЛ:</label>
        <input type="range" id="levelSlider" min="0" max="100" step="5" value="0" oninput="updateLiquidLevel()">
    </div>
    
    <!-- рк╕рлНрк▓рк╛ркЗркбрк░ркирлБркВ ркорлВрк▓рлНркп ркжрк░рлНрк╢рк╛рк╡рлЛ --><p class="text-2xl font-bold text-blue-700 mt-2">рк╡рк░рлНркдркорк╛рки рк╕рлНркдрк░: <span id="currentLevelDisplay">0</span> mm</p>

    <button id="checkButton" class="btn-check mt-6" onclick="checkAnswer()">ркдрккрк╛рк╕рлЛ</button>

    <div id="messageArea" class="message hidden"></div>
    
    <div class="mt-4 text-2xl font-bold">
        ркдркорк╛рк░рлЛ рк╕рлНркХрлЛрк░: <span id="scoreDisplay" class="text-green-600">0</span>
    </div>

    <p class="creator-info">Created by : Rajesh Barochia</p>
</div>

<script type="text/javascript">
    // рк╡рлИрк╢рлНрк╡рк┐ркХ ркЪрк▓рлЛ (Global Variables)
    let canvas, ctx;
    let targetLevelMM = 0; // ркмрк╛рк│ркХ ркжрлНрк╡рк╛рк░рк╛ рк╕рлЗркЯ ркХрк░рк╡рк╛ркирлБркВ рк▓ркХрлНрк╖рлНркп рк╕рлНркдрк░
    let userLevelMM = 0;   // рк╕рлНрк▓рк╛ркЗркбрк░ ркжрлНрк╡рк╛рк░рк╛ рк╕рлЗркЯ ркеркпрлЗрк▓ рк╡рк░рлНркдркорк╛рки рк╕рлНркдрк░
    let maxRulerValue = 100; // ркорк╛рккркХркирлА ркорк╣ркдрлНркдрко ркХрк┐ркВркоркд (mm)
    let majorTickInterval = 10; 
    let minorTickInterval = 5; 
    let currentScore = 0;
    
    // DOM ркПрк▓рк┐ркорлЗркирлНркЯрлНрк╕
    const slider = document.getElementById('levelSlider');
    const targetInstruction = document.getElementById('targetInstruction');
    const currentLevelDisplay = document.getElementById('currentLevelDisplay');
    const messageArea = document.getElementById('messageArea');
    const scoreDisplay = document.getElementById('scoreDisplay');
    const checkButton = document.getElementById('checkButton');

    // рк░рлЗркирлНркбрко ркиркВркмрк░ ркЬркирк░рлЗркЯ ркХрк░рк╡рк╛ ркорк╛ркЯрлЗ (5 ркирк╛ ркЧрлБркгрк╛ркВркХркорк╛ркВ)
    function getRandomLevel(min, max, step) {
        const range = (max - min) / step;
        const randomStep = Math.floor(Math.random() * (range + 1));
        return min + (randomStep * step);
    }

    // ркорк╛рккркХ (Ruler) ркжрлЛрк░рк╡рк╛ркирлБркВ ркХрк╛рк░рлНркп
    function drawRuler() {
        // ркХрлЗркирк╡рк╛рк╕ркирлЗ рк╕рк╛ркл ркХрк░рлЛ
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // ркорк╛рккркХ ркЬркЧ (Ruler Jug) ркирк╛ рккрк░рк┐ркорк╛ркгрлЛ
        const PADDING = 20;
        const BOTTOM_H = 15; 
        const JUG_W_BOTTOM = 120; 
        const JUG_W_TOP = 150; // ркЙрккрк░ркирлЛ ркнрк╛ркЧ рк╡ркзрлБ рккрк╣рлЛрк│рлЛ
        const JUG_H = canvas.height - (2 * PADDING) - BOTTOM_H; 
        
        const JUG_X_CENTER = canvas.width / 2;
        const JUG_X_START_BOTTOM = JUG_X_CENTER - (JUG_W_BOTTOM / 2);
        const JUG_X_END_BOTTOM = JUG_X_CENTER + (JUG_W_BOTTOM / 2);
        const JUG_X_START_TOP = JUG_X_CENTER - (JUG_W_TOP / 2);
        const JUG_X_END_TOP = JUG_X_CENTER + (JUG_W_TOP / 2);

        const JUG_Y_START = PADDING;
        const JUG_Y_BOTTOM = JUG_Y_START + JUG_H;
        
        const TRAY_W = JUG_W_BOTTOM + 40;
        const TRAY_X = JUG_X_CENTER - (TRAY_W / 2);
        
        // рккрлНрк░рк╡рк╛рк╣рлА ркнрк░рк╡рк╛ ркорк╛ркЯрлЗркирлЛ ркЖркВркдрк░рк┐ркХ рк╡рк┐рк╕рлНркдрк╛рк░
        const JUG_FILL_X_BOTTOM = JUG_X_START_BOTTOM + 5;
        const JUG_FILL_W_BOTTOM = JUG_W_BOTTOM - 10;
        const JUG_FILL_W_TOP = JUG_W_TOP - 10;
        

        // --- 1. ркЬркЧркирлЛ ркЖркХрк╛рк░ ркжрлЛрк░рлЛ (ркЦрлБрк▓рлНрк▓рлЛ ркЬркЧ ркЕркирлЗ рк╣рлЗркирлНркбрк▓) ---
        
        // --- рккрк╛ркпрлЛ (Base) ---
        ctx.fillStyle = '#6d4c41'; // ркбрк╛рк░рлНркХ ркмрлНрк░рк╛ркЙрки ркмрлЗркЭ
        ctx.fillRect(TRAY_X, JUG_Y_BOTTOM, TRAY_W, BOTTOM_H);
        
        ctx.strokeStyle = '#4e342e';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.ellipse(JUG_X_CENTER, JUG_Y_BOTTOM, JUG_W_BOTTOM / 2, 5, 0, 0, Math.PI * 2);
        ctx.stroke();

        // --- ркЬркЧркирлА ркмрлЛркбрлА (Body) ---
        ctx.strokeStyle = '#333333';
        ctx.lineWidth = 2;
        ctx.beginPath();
        // ркбрк╛ркмрлА ркмрк╛ркЬрлБ
        ctx.moveTo(JUG_X_START_BOTTOM, JUG_Y_BOTTOM);
        ctx.lineTo(JUG_X_START_TOP, JUG_Y_START + 10); 
        // ркЙрккрк░ркирлА ркЧрлЛрк│ ркХрк┐ркирк╛рк░рлА (Top Curve - Open)
        ctx.bezierCurveTo(JUG_X_START_TOP, JUG_Y_START, JUG_X_END_TOP, JUG_Y_START, JUG_X_END_TOP, JUG_Y_START + 10);
        // ркЬркоркгрлА ркмрк╛ркЬрлБ
        ctx.lineTo(JUG_X_END_BOTTOM, JUG_Y_BOTTOM); 
        ctx.stroke();

        // --- рк╣рлЗркирлНркбрк▓ (Handle) ---
        const HANDLE_X = JUG_X_END_BOTTOM; 
        ctx.beginPath();
        ctx.moveTo(HANDLE_X, JUG_Y_START + 25);
        ctx.bezierCurveTo(HANDLE_X + 45, JUG_Y_START + 15, // рк╣рлЗркирлНркбрк▓ ркорлЛркЯрлБркВ ркЕркирлЗ ркЧрлЛрк│
                           HANDLE_X + 45, JUG_Y_BOTTOM - 15, 
                           HANDLE_X, JUG_Y_BOTTOM - 25);
        ctx.stroke();

        // --- 2. рккрлНрк░рк╡рк╛рк╣рлА (Liquid) ркнрк░рлЛ ---
        const fillHeight = (userLevelMM / maxRulerValue) * JUG_H;
        const fillY = JUG_Y_BOTTOM - fillHeight;
        
        ctx.fillStyle = 'rgba(30, 144, 255, 0.7)'; // рк╡рк╛ркжрк│рлА рк░ркВркЧ
        
        // рккрлНрк░рк╡рк╛рк╣рлАркирлЛ ркЖркХрк╛рк░ ркжрлЛрк░рк╡рк╛ ркорк╛ркЯрлЗ, ркЬркЧркирк╛ ркЖркХрк╛рк░ркирлЗ ркЕркирлБрк░рлВркк ркЯрлНрк░рлЗрккрлЗркЭрлЛркЗркбркирлЛ ркЙрккркпрлЛркЧ ркХрк░рлЛ
        ctx.beginPath();
        
        // рк╡рк░рлНркдркорк╛рки рк╕рлНркдрк░ рккрк░ркирлА рккрк╣рлЛрк│рк╛ркИркирлА ркЧркгркдрк░рлА ркХрк░рлЛ
        const currentFillWidth = JUG_FILL_W_BOTTOM + (JUG_FILL_W_TOP - JUG_FILL_W_BOTTOM) * ((JUG_Y_BOTTOM - fillY) / JUG_H);
        const currentFillX = JUG_FILL_X_BOTTOM - (JUG_FILL_W_TOP - JUG_FILL_W_BOTTOM) / 2 * ((JUG_Y_BOTTOM - fillY) / JUG_H);
        
        // рккрлНрк░рк╡рк╛рк╣рлАркирлБркВ ркЯрлНрк░рлЗрккрлЗркЭрлЛркЗркб ркЖркХрк╛рк░
        ctx.moveTo(JUG_FILL_X_BOTTOM, JUG_Y_BOTTOM); 
        ctx.lineTo(JUG_FILL_X_BOTTOM + JUG_FILL_W_BOTTOM, JUG_Y_BOTTOM);
        ctx.lineTo(currentFillX + currentFillWidth, fillY);
        ctx.lineTo(currentFillX, fillY);
        
        ctx.closePath();
        ctx.fill();


        // ркЙрккрк░ рккрлНрк░рк╡рк╛рк╣рлАркирлА рк╕рккрк╛ркЯрлА (рк╕рк╣рлЗркЬ рк╡ркХрлНрк░)
        ctx.strokeStyle = 'rgba(30, 144, 255, 1.0)'; // рк╡рк╛ркжрк│рлА рк░ркВркЧ
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(currentFillX, fillY);
        ctx.bezierCurveTo(currentFillX + (currentFillWidth / 4), fillY - 4, 
                           currentFillX + (3 * currentFillWidth / 4), fillY - 4, 
                           currentFillX + currentFillWidth, fillY);
        ctx.stroke();
        
        // --- 3. ркЯрк┐ркХ ркорк╛рк░рлНркХрлНрк╕ ркЕркирлЗ рк▓рлЗркмрк▓рлНрк╕ ркжрлЛрк░рлЛ ---
        const tickLengthMajor = 15;
        const tickLengthMinor = 8;
        const totalPixelsPerMM = JUG_H / maxRulerValue; 

        // 0 mm ркерлА maxRulerValue mm рк╕рлБркзрлА рклрлЗрк░рк╡рлЛ
        for (let mm = 0; mm <= maxRulerValue; mm += minorTickInterval) {
            const tickY = JUG_Y_BOTTOM - (mm * totalPixelsPerMM);
            
            let tickLength = 0;
            let isLabelVisible = false;
            
            if (mm % majorTickInterval === 0) {
                // ркорлБркЦрлНркп ркЯрк┐ркХ (Major Tick) - 10, 20, 30...
                tickLength = tickLengthMajor;
                isLabelVisible = true; 
                ctx.lineWidth = 2;
            } else if (mm % minorTickInterval === 0) {
                // ркирк╛ркирк╛ ркЯрк┐ркХ (Minor Tick) - 5, 15, 25...
                tickLength = tickLengthMinor;
                isLabelVisible = false; // ркЕркВркХрлЛ ркХрк╛ркврлА ркирк╛ркЦрлНркпрк╛ ркЫрлЗ
                ctx.lineWidth = 1;
            } else {
                continue; 
            }

            // ркЯрк┐ркХ ркорк╛рк░рлНркХ ркжрлЛрк░рлЛ (ркЬркЧркирлА ркбрк╛ркмрлА ркмрк╛ркЬрлБркП)
            ctx.strokeStyle = '#000000';
            ctx.beginPath();
            
            // ркЬркЧркирлА ркбрк╛ркмрлА ркХрк┐ркирк╛рк░рлА (ркЙрккрк░ркерлА ркирлАркЪрлЗ ркмркжрк▓рк╛ркп ркЫрлЗ)
            const currentJugLeftX = JUG_X_START_BOTTOM - (JUG_X_START_BOTTOM - JUG_X_START_TOP) * ((JUG_Y_BOTTOM - tickY) / JUG_H);

            ctx.moveTo(currentJugLeftX, tickY); 
            ctx.lineTo(currentJugLeftX - tickLength, tickY); // ркмрк╣рк╛рк░ркирлА ркдрк░ркл ркжрлЛрк░рлЛ
            ctx.stroke();

            // рк▓рлЗркмрк▓ (ркорк╛рккркХ рккрк░ркирлЛ ркЕркВркХ)
            if (isLabelVisible && mm > 0) {
                ctx.fillStyle = '#000000';
                ctx.font = 'bolder 14px Inter, sans-serif'; 
                ctx.textAlign = 'right';
                ctx.fillText(mm + " mm", currentJugLeftX - tickLength - 5, tickY + 5); 
            }
        }
    }

    // рк╕рлНрк▓рк╛ркЗркбрк░ ркорлВрк▓рлНркп ркЕрккркбрлЗркЯ ркХрк░рлЛ
    function updateLiquidLevel() {
        // рк╕рлНрк▓рк╛ркЗркбрк░ркирлБркВ ркорлВрк▓рлНркп рк╡рк╛ркВркЪрлЛ ркЕркирлЗ userLevelMM ркорк╛ркВ рк╕рлНркЯрлЛрк░ ркХрк░рлЛ
        userLevelMM = parseInt(slider.value);
        currentLevelDisplay.textContent = userLevelMM;
        drawRuler();
    }
    
    // ркирк╡рлА рк░ркоркд рк╢рк░рлВ ркХрк░рлЛ
    function newGame() {
        // 5 ркирк╛ ркЧрлБркгрк╛ркВркХркорк╛ркВ рк░рлЗркирлНркбрко рк▓ркХрлНрк╖рлНркп рк╕рлНркдрк░ рккрк╕ркВркж ркХрк░рлЛ (100 mm рк╕рлБркзрлА)
        targetLevelMM = getRandomLevel(5, maxRulerValue, 5);
        
        // рк╕рлНрк▓рк╛ркЗркбрк░ркирлБркВ рк╢рк░рлВркЖркдркирлБркВ ркорлВрк▓рлНркп рк░рлЗркирлНркбрко рк╕рлЗркЯ ркХрк░рлЛ (рк▓ркХрлНрк╖рлНркпркерлА ркЕрк▓ркЧ)
        let initialLevel;
        do {
            initialLevel = getRandomLevel(0, maxRulerValue, 5);
        } while (initialLevel === targetLevelMM);
        
        userLevelMM = initialLevel;
        slider.value = userLevelMM;

        targetInstruction.textContent = `ркЬркЧркирлЗ ${targetLevelMM} mm рк╕рлБркзрлА ркнрк░рлЛ.`;
        currentLevelDisplay.textContent = userLevelMM;

        slider.disabled = false;
        checkButton.disabled = false;
        messageArea.classList.add('hidden');
        messageArea.textContent = '';
        messageArea.classList.remove('correct', 'incorrect');
        
        drawRuler();
    }

    // ркЬрк╡рк╛ркм ркдрккрк╛рк╕рлЛ
    function checkAnswer() {
        // userLevelMM ркП рк╕рлНрк▓рк╛ркЗркбрк░ ркжрлНрк╡рк╛рк░рк╛ рк╕рлЗркЯ ркеркпрлЗрк▓рлБркВ ркорлВрк▓рлНркп ркЫрлЗ
        
        // 5 mm ркирлА ркнрлВрк▓ ркорк░рлНркпрк╛ркжрк╛ (tolerance) ркЖрккрлАркП ркЬрлЗркерлА ркмрк╛рк│ркХрлЛ ркорк╛ркЯрлЗ рк╕рк░рк│ рк░рк╣рлЗ
        const tolerance = 5; 
        
        if (userLevelMM >= targetLevelMM - tolerance && userLevelMM <= targetLevelMM + tolerance) {
            // рк╕рк╛ркЪрлЛ ркЬрк╡рк╛ркм
            currentScore += 1;
            scoreDisplay.textContent = currentScore;
            showMessage('рк╢рк╛ркмрк╛рк╢! ркдркорлЗ рк▓ркЧркнркЧ ркмрк░рк╛ркмрк░ ркорк╛рккрлНркпрлБркВ ркЫрлЗ! ЁЯОЙ', 'correct');
            
            slider.disabled = true;
            checkButton.disabled = true;
            
            setTimeout(newGame, 2000);

        } else {
            // ркЦрлЛркЯрлЛ ркЬрк╡рк╛ркм
            showMessage(`ркУрк╣! рк╕рлНркдрк░ ${targetLevelMM} mm ркирлА ркиркЬрлАркХ ркиркерлА. рклрк░рлА рккрлНрк░ркпрк╛рк╕ ркХрк░рлЛ.`, 'incorrect');
            // рк╕рлНркХрлЛрк░ рк░рлАрк╕рлЗркЯ рки ркХрк░рк╡рлЛ
        }
    }
    
    // рк╕ркВркжрлЗрк╢ рккрлНрк░ркжрк░рлНрк╢рк┐ркд ркХрк░рлЛ
    function showMessage(text, type) {
        messageArea.textContent = text;
        messageArea.classList.remove('hidden');
        messageArea.classList.remove('correct', 'incorrect');
        messageArea.classList.add(type);
    }
    
    // ркХрлЗркирк╡рк╛рк╕ ркЕркирлЗ ркХрлЛркирлНркЯрлЗркХрлНрк╕рлНркЯ рк╢рк░рлВ ркХрк░рлЛ
    window.onload = function() {
        canvas = document.getElementById('rulerCanvas');
        ctx = canvas.getContext('2d');
        
        // ркХрлЗркирк╡рк╛рк╕ркирлБркВ ркХркж ркдрлЗркирлА ркЖрк╕рккрк╛рк╕ркирк╛ ркХркирлНркЯрлЗркирк░ркирлЗ ркорлЗркЪ ркХрк░рк╡рк╛ ркорк╛ркЯрлЗ
        function resizeCanvas() {
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width;
            canvas.height = rect.height;
            drawRuler(); // ркХркж ркмркжрк▓рк╛ркп ркдрлНркпрк╛рк░рлЗ рклрк░рлАркерлА ркжрлЛрк░рлЛ
        }
        
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        // ркЧрлЗрко рк╢рк░рлВ ркХрк░рлЛ
        newGame();
    };
    
</script>

</body>
</html>
