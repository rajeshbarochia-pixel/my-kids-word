<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>વિદ્યાર્થી ડેટા વિઝ્યુલાઈઝેશન</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
            color: white;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .dashboard {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 25px;
            margin-top: 20px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .dropdown-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        label {
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.1rem;
        }
        
        select {
            padding: 10px 15px;
            border-radius: 8px;
            border: 2px solid #4a6fc7;
            background-color: white;
            font-size: 1rem;
            cursor: pointer;
            min-width: 200px;
        }
        
        .content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-top: 20px;
        }
        
        .chart-section {
            flex: 1;
            min-width: 300px;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
            margin: 20px 0;
        }
        
        .student-list-section {
            flex: 1;
            min-width: 300px;
        }
        
        .student-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .student-item {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .student-item:last-child {
            border-bottom: none;
        }
        
        .student-item:hover {
            background-color: #f5f5f5;
        }
        
        .student-name {
            font-weight: 500;
        }
        
        .student-details {
            font-size: 0.9rem;
            color: #666;
        }
        
        .stats-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .stat-card {
            flex: 1;
            min-width: 150px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-top: 4px solid #4a6fc7;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
            margin: 5px 0;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #6c757d;
        }
        
        .explanation {
            background-color: #e8f4fd;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin-top: 20px;
            border-radius: 0 8px 8px 0;
        }
        
        .explanation h3 {
            color: #0d47a1;
            margin-bottom: 10px;
        }
        
        .section-title {
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #eee;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            color: white;
            padding: 20px;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .content {
                flex-direction: column;
            }
            
            .chart-container {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>વિદ્યાર્થી ડેટા વિઝ્યુલાઈઝેશન</h1>
            <p class="subtitle">ડ્રોપડાઉન મેનુથી વિવિધ ડેટા જુઓ અને બાળકોની યાદી જુઓ</p>
        </header>
        
        <div class="dashboard">
            <div class="controls">
                <div class="dropdown-container">
                    <label for="dataSelector">ડેટા પસંદ કરો:</label>
                    <select id="dataSelector" onchange="updateChart()">
                        <option value="gender">જાતિ અનુસાર વિતરણ</option>
                        <option value="class">વર્ગ અનુસાર વિતરણ</option>
                        <option value="weight">વજન અનુસાર વિતરણ</option>
                        <option value="height">ઊંચાઈ અનુસાર વિતરણ</option>
                        <option value="mobile">મોબાઈલ નંબર ઉપલબ્ધતા</option>
                    </select>
                </div>
            </div>
            
            <div class="content">
                <div class="chart-section">
                    <h3 class="section-title">ડેટા ચાર્ટ</h3>
                    <div class="chart-container">
                        <canvas id="dataChart"></canvas>
                    </div>
                    
                    <div class="stats-container" id="statsContainer">
                        <!-- Stats will be populated by JavaScript -->
                    </div>
                </div>
                
                <div class="student-list-section">
                    <h3 class="section-title">વિદ્યાર્થીઓની યાદી (કુલ: 31)</h3>
                    <div class="student-list" id="studentList">
                        <!-- Student list will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="explanation">
                <h3>ચાર્ટ સમજૂતી:</h3>
                <p id="explanationText">ડ્રોપડાઉન મેનુમાંથી વિવિધ ડેટા પસંદ કરી શકો છો. દરેક પસંદગી માટે ચાર્ટ અને આંકડા બદલાશે. જમણી બાજુ બધા વિદ્યાર્થીઓની યાદી છે.</p>
            </div>
        </div>
        
        <footer>
            <p>Created with Chart.js | Excel ડેટાને રાઉંડ ચાર્ટમાં રૂપાંતરિત કરો</p>
        </footer>
    </div>

    <script>
        // Student data from the Excel file
        const studentData = [
            { srNo: 1, name: 'ANANYA AMANBHAI RATHOD', class: 1, mobile: '7046618835', gender: 'Female', weight: 19, height: 110 },
            { srNo: 2, name: 'DHARA MAHESH PARMAR', class: 1, mobile: '8200974650', gender: 'Female', weight: 20, height: 113 },
            { srNo: 3, name: 'DIVYARAJ MOHANBHAI SONDARVA', class: 1, mobile: '8866176310', gender: 'Male', weight: null, height: null },
            { srNo: 4, name: 'DIVYESH MUKESHBHAI SARVAIYA', class: 1, mobile: '9586120111', gender: 'Male', weight: null, height: null },
            { srNo: 5, name: 'HARDIK SAMJIBHAI SURELA', class: 1, mobile: '', gender: 'Male', weight: null, height: null },
            { srNo: 6, name: 'ICHCHHA AMIT SOLANKI', class: 1, mobile: '9913454583', gender: 'Female', weight: null, height: null },
            { srNo: 7, name: 'KOMAL RAMSHI PATHAR', class: 1, mobile: '9510981871', gender: 'Female', weight: null, height: null },
            { srNo: 8, name: 'MITAL BHARATBHAI SOLANKI', class: 1, mobile: '8238059778', gender: 'Female', weight: 19, height: 110 },
            { srNo: 9, name: 'NIKITA DINESHBHAI PARMAR', class: 1, mobile: '', gender: 'Female', weight: 19, height: 110 },
            { srNo: 10, name: 'NIRALIBEN VIRABHAI RATHOD', class: 1, mobile: '9586120111', gender: 'Female', weight: 21, height: 113 },
            { srNo: 11, name: 'SEJAL BABUBHAI KHARAD', class: 1, mobile: '9574237820', gender: 'Female', weight: 15, height: 109 },
            { srNo: 12, name: 'YUG VINESH KUDECHA', class: 1, mobile: '9723382030', gender: 'Male', weight: null, height: null },
            { srNo: 13, name: 'KUNAL ANILBHAI PARMAR', class: 1, mobile: '9638758775', gender: 'Male', weight: 20, height: 115 },
            { srNo: 14, name: 'SHIVANYA NARANBHAI VAGHELA', class: 1, mobile: '', gender: 'Female', weight: null, height: null },
            { srNo: 15, name: 'JAYDIP MAYURBHAI MAKVANA', class: 1, mobile: '', gender: 'Male', weight: 21, height: 125 },
            { srNo: 16, name: 'AKASH JETHABHAI BHATANIYA', class: 2, mobile: '7096094015', gender: 'Male', weight: 22, height: 123 },
            { srNo: 17, name: 'ALYA AASIFBHAI BLOCH', class: 2, mobile: '9624434100', gender: 'Female', weight: 22, height: 115 },
            { srNo: 18, name: 'ASHIK RAJESHBHAI VARAMIYA', class: 2, mobile: '', gender: 'Male', weight: null, height: null },
            { srNo: 19, name: 'HETVI BHARATBHAI PARMAR', class: 2, mobile: '', gender: 'Female', weight: 17, height: 120 },
            { srNo: 20, name: 'HIRANBHAI CHUNIBHAI BAMNIYA', class: 2, mobile: '', gender: 'Male', weight: 30, height: 133 },
            { srNo: 21, name: 'JANKI UDAY PARMAR', class: 2, mobile: '9537574610', gender: 'Female', weight: 20, height: 120 },
            { srNo: 22, name: 'JAYPAL RAVIBHAI SURELA', class: 2, mobile: '8153966307', gender: 'Male', weight: null, height: null },
            { srNo: 23, name: 'MOMAIANSH MAHENDRABHAI MAKAWANA', class: 2, mobile: '9662766988', gender: 'Male', weight: null, height: null },
            { srNo: 24, name: 'PRIYANSHI JIVANBHAI SOLANKI', class: 2, mobile: '9714363676', gender: 'Female', weight: 19, height: 115 },
            { srNo: 25, name: 'RAJVIRKUMAR DINESHBHAI LOLADIYA', class: 2, mobile: '6352446301', gender: 'Male', weight: null, height: null },
            { srNo: 26, name: 'RONAK VIJAYBHAI METHANIYA', class: 2, mobile: '9023188202', gender: 'Male', weight: null, height: null },
            { srNo: 27, name: 'SHIVAM KAMAL YADAV', class: 2, mobile: '8140067157', gender: 'Male', weight: null, height: null },
            { srNo: 28, name: 'TAKSHA DEVRAJBHAI MAKVANA', class: 2, mobile: '9913449869', gender: 'Male', weight: 26, height: 105 },
            { srNo: 29, name: 'TEJSVARI NILESHBHAI CHAUHAN', class: 2, mobile: '9316225773', gender: 'Female', weight: 24, height: 120 },
            { srNo: 30, name: 'UMANG JAYESHBHAI CHAUHAN', class: 2, mobile: '7567934311', gender: 'Male', weight: 20, height: 125 },
            { srNo: 31, name: 'TANISH VIMALBHAI PARMAR', class: 2, mobile: '8140416912', gender: 'Male', weight: 20, height: 112 }
        ];

        // Chart configuration
        let dataChart;
        const ctx = document.getElementById('dataChart').getContext('2d');

        // Initialize the chart and student list
        function initChart() {
            dataChart = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: [],
                    datasets: [{
                        data: [],
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(255, 99, 132, 0.7)',
                            'rgba(75, 192, 192, 0.7)',
                            'rgba(153, 102, 255, 0.7)',
                            'rgba(255, 159, 64, 0.7)'
                        ],
                        borderColor: 'white',
                        borderWidth: 2,
                        hoverOffset: 15
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                font: {
                                    size: 14
                                },
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const value = context.raw;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = ((value / total) * 100).toFixed(1);
                                    return `${context.label}: ${value} (${percentage}%)`;
                                }
                            }
                        }
                    }
                }
            });
            
            // Initialize with gender data
            updateChart();
            
            // Initialize student list
            populateStudentList();
        }

        // Update chart based on selected option
        function updateChart() {
            const selector = document.getElementById('dataSelector');
            const selectedValue = selector.value;
            
            let labels = [];
            let data = [];
            let stats = [];
            let explanation = "";
            
            switch(selectedValue) {
                case 'gender':
                    const maleCount = studentData.filter(s => s.gender === 'Male').length;
                    const femaleCount = studentData.filter(s => s.gender === 'Female').length;
                    
                    labels = ['કુમાર', 'કુમારિકા'];
                    data = [maleCount, femaleCount];
                    stats = [
                        { value: maleCount, label: 'કુમાર' },
                        { value: femaleCount, label: 'કુમારિકા' },
                        { value: studentData.length, label: 'કુલ વિદ્યાર્થીઓ' }
                    ];
                    explanation = `કુલ ${studentData.length} વિદ્યાર્થીઓમાંથી ${maleCount} કુમાર અને ${femaleCount} કુમારિકા છે.`;
                    break;
                    
                case 'class':
                    const class1Count = studentData.filter(s => s.class === 1).length;
                    const class2Count = studentData.filter(s => s.class === 2).length;
                    
                    labels = ['વર્ગ 1', 'વર્ગ 2'];
                    data = [class1Count, class2Count];
                    stats = [
                        { value: class1Count, label: 'વર્ગ 1' },
                        { value: class2Count, label: 'વર્ગ 2' },
                        { value: studentData.length, label: 'કુલ વિદ્યાર્થીઓ' }
                    ];
                    explanation = `કુલ ${studentData.length} વિદ્યાર્થીઓમાંથી ${class1Count} વર્ગ 1 માં અને ${class2Count} વર્ગ 2 માં છે.`;
                    break;
                    
                case 'weight':
                    const withWeight = studentData.filter(s => s.weight !== null).length;
                    const withoutWeight = studentData.length - withWeight;
                    labels = ['વજન ઉપલબ્ધ', 'વજન નથી'];
                    data = [withWeight, withoutWeight];
                    stats = [
                        { value: withWeight, label: 'વજન ઉપલબ્ધ' },
                        { value: withoutWeight, label: 'વજન નથી' },
                        { value: studentData.length, label: 'કુલ વિદ્યાર્થીઓ' }
                    ];
                    explanation = `કુલ ${studentData.length} વિદ્યાર્થીઓમાંથી ${withWeight} નું વજન ઉપલબ્ધ છે અને ${withoutWeight} નું વજન નથી.`;
                    break;
                    
                case 'height':
                    const withHeight = studentData.filter(s => s.height !== null).length;
                    const withoutHeight = studentData.length - withHeight;
                    labels = ['ઊંચાઈ ઉપલબ્ધ', 'ઊંચાઈ નથી'];
                    data = [withHeight, withoutHeight];
                    stats = [
                        { value: withHeight, label: 'ઊંચાઈ ઉપલબ્ધ' },
                        { value: withoutHeight, label: 'ઊંચાઈ નથી' },
                        { value: studentData.length, label: 'કુલ વિદ્યાર્થીઓ' }
                    ];
                    explanation = `કુલ ${studentData.length} વિદ્યાર્થીઓમાંથી ${withHeight} ની ઊંચાઈ ઉપલબ્ધ છે અને ${withoutHeight} ની ઊંચાઈ નથી.`;
                    break;
                    
                case 'mobile':
                    const withMobile = studentData.filter(s => s.mobile !== '').length;
                    const withoutMobile = studentData.length - withMobile;
                    labels = ['મોબાઈલ ઉપલબ્ધ', 'મોબાઈલ નથી'];
                    data = [withMobile, withoutMobile];
                    stats = [
                        { value: withMobile, label: 'મોબાઈલ ઉપલબ્ધ' },
                        { value: withoutMobile, label: 'મોબાઈલ નથી' },
                        { value: studentData.length, label: 'કુલ વિદ્યાર્થીઓ' }
                    ];
                    explanation = `કુલ ${studentData.length} વિદ્યાર્થીઓમાંથી ${withMobile} નો મોબાઈલ નંબર ઉપલબ્ધ છે અને ${withoutMobile} નો મોબાઈલ નંબર નથી.`;
                    break;
            }
            
            // Update chart
            dataChart.data.labels = labels;
            dataChart.data.datasets[0].data = data;
            dataChart.update();
            
            // Update stats
            updateStats(stats);
            
            // Update explanation
            document.getElementById('explanationText').textContent = explanation;
        }

        // Update statistics cards
        function updateStats(stats) {
            const statsContainer = document.getElementById('statsContainer');
            statsContainer.innerHTML = '';
            
            stats.forEach(stat => {
                const statCard = document.createElement('div');
                statCard.className = 'stat-card';
                statCard.innerHTML = `
                    <div class="stat-value">${stat.value}</div>
                    <div class="stat-label">${stat.label}</div>
                `;
                statsContainer.appendChild(statCard);
            });
        }

        // Populate student list
        function populateStudentList() {
            const studentList = document.getElementById('studentList');
            studentList.innerHTML = '';
            
            studentData.forEach(student => {
                const studentItem = document.createElement('div');
                studentItem.className = 'student-item';
                
                const hasMobile = student.mobile ? '📱' : '';
                const hasWeight = student.weight ? '⚖️' : '';
                const hasHeight = student.height ? '📏' : '';
                
                studentItem.innerHTML = `
                    <div>
                        <div class="student-name">${student.srNo}. ${student.name}</div>
                        <div class="student-details">વર્ગ: ${student.class} | ${student.gender === 'Male' ? 'કુમાર' : 'કુમારિકા'} ${hasMobile} ${hasWeight} ${hasHeight}</div>
                    </div>
                `;
                
                studentList.appendChild(studentItem);
            });
        }

        // Initialize the chart when page loads
        window.onload = initChart;
    </script>
</body>
</html>