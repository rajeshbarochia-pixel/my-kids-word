<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fraction Comparison Game</title>
    <!-- Tailwind CSS CDN for responsive and modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-grey background */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for better mobile view */
            min-height: 100vh;
            padding: 1rem;
        }

        .container {
            width: 100%;
            max-width: 1000px; /* Max-width retained for good layout */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-radius: 1.5rem;
            background-color: white;
            padding: 1.5rem;
            transition: all 0.3s ease;
            margin-top: 2rem;
        }

        /* Custom Fraction Display */
        .fraction {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            font-size: 2.5rem; /* Slightly larger font size for focus */
            font-weight: 700;
            line-height: 1;
            margin-bottom: 0.5rem;
        }

        .numerator {
            padding-bottom: 0.1rem;
        }

        .denominator {
            padding-top: 0.1rem;
        }

        .fraction-line {
            width: 100%;
            height: 4px;
            background-color: #3b82f6; /* Blue line */
            margin: 0 -5px;
            border-radius: 2px;
        }

        /* Comparison Circle - Increased size and margin for better alignment */
        .comparison-circle {
            width: 100px; /* Made slightly larger */
            height: 100px; /* Made slightly larger */
            border-radius: 50%;
            background-color: #fef3c7; /* Light yellow background */
            border: 5px solid #f59e0b; /* Amber border */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3.5rem; /* Larger font size */
            font-weight: 700;
            color: #f59e0b;
            margin: 0 2.5rem; /* Increased margin for spacing */
        }

        /* Feedback styling */
        .correct-feedback {
            background-color: #10b981; /* Emerald green */
            color: white;
        }
        .incorrect-feedback {
            background-color: #ef4444; /* Red */
            color: white;
        }
    </style>
</head>
<body>

    <div id="game-container" class="container">
        <!-- Title and Score -->
        <div class="flex justify-between items-center mb-6 border-b-2 pb-3 border-blue-200">
            <h1 class="text-3xl font-extrabold text-blue-600">Fraction Comparison</h1>
            <div class="text-xl font-bold text-gray-700">
                <span id="score-display">Score: 0</span>
            </div>
        </div>

        <!-- Question Area -->
        <!-- Use flex-wrap for responsiveness on very small screens -->
        <div id="question-area" class="flex justify-center items-center py-8 flex-wrap">
            <!-- Fractions will be inserted here by JavaScript -->
        </div>

        <!-- Instructions and Feedback -->
        <div id="feedback-area" class="text-center min-h-[4rem] mb-4">
            <p id="instruction-text" class="text-lg font-semibold text-gray-700">Select the correct sign:</p>
            <p id="result-message" class="text-2xl font-bold mt-2 transition duration-300 transform scale-100"></p>
        </div>

        <!-- Controls/Buttons -->
        <div id="controls-area" class="flex justify-center space-x-4 mb-6">
            <button onclick="checkAnswer('>')" class="comparison-btn bg-green-500 hover:bg-green-600 text-white text-3xl font-bold py-4 px-8 rounded-xl shadow-lg transition transform hover:scale-105 active:scale-95">
                &gt;
            </button>
            <button onclick="checkAnswer('=')" class="comparison-btn bg-yellow-500 hover:bg-yellow-600 text-white text-3xl font-bold py-4 px-8 rounded-xl shadow-lg transition transform hover:scale-105 active:scale-95">
                =
            </button>
            <button onclick="checkAnswer('<')" class="comparison-btn bg-red-500 hover:bg-red-600 text-white text-3xl font-bold py-4 px-8 rounded-xl shadow-lg transition transform hover:scale-105 active:scale-95">
                &lt;
            </button>
        </div>

        <!-- Game End Screen/Message Box -->
        <div id="message-box" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50">
            <div class="bg-white p-8 rounded-xl shadow-2xl text-center max-w-sm w-full">
                <h2 id="final-score-title" class="4xl font-extrabold text-purple-600 mb-4"></h2>
                <p id="final-score-text" class="text-2xl text-gray-700 mb-6"></p>
                <button onclick="startGame()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg transition transform hover:scale-105">
                    Play Again
                </button>
            </div>
        </div>

        <!-- Creator Tag -->
        <p class="text-center text-sm text-gray-400 mt-4 border-t pt-2">Created by: Rajesh barochia</p>
    </div>

    <script>
        const denominators = [2, 3, 4, 5, 6, 7, 8, 9, 10]; // Denominators for unit fractions (1/n)
        let currentQuestion = {};
        let score = 0;
        let questionCount = 0;
        const totalQuestions = 10; // Set the total number of questions for the game

        const scoreDisplay = document.getElementById('score-display');
        const questionArea = document.getElementById('question-area');
        const instructionText = document.getElementById('instruction-text');
        const resultMessage = document.getElementById('result-message');
        const controlsArea = document.getElementById('controls-area');
        const messageBox = document.getElementById('message-box');
        const finalScoreTitle = document.getElementById('final-score-title');
        const finalScoreText = document.getElementById('final-score-text');

        // Helper function to create the English fraction HTML structure (1/N)
        function createFractionHTML(denominator) {
            return `
                <div class="flex flex-col items-center">
                    <div class="fraction">
                        <span class="numerator">1</span>
                        <div class="fraction-line"></div>
                        <span class="denominator">${denominator}</span>
                    </div>
                </div>
            `;
        }
        
        // àª¨à«‹àª‚àª§: fraction bar (àª†àª•à«ƒàª¤àª¿) àª¬àª¨àª¾àªµàª¤à«àª‚ createFractionBarHTML àª«àª‚àª•à«àª¶àª¨ àª¦à«‚àª° àª•àª°àªµàª¾àª®àª¾àª‚ àª†àªµà«àª¯à«àª‚ àª›à«‡.

        // Helper function to randomly select two unique denominators
        function generateRandomQuestion() {
            let d1 = denominators[Math.floor(Math.random() * denominators.length)];
            let d2 = denominators[Math.floor(Math.random() * denominators.length)];

            // Ensure the fractions are different
            while (d1 === d2) {
                d2 = denominators[Math.floor(Math.random() * denominators.length)];
            }

            let correctSign;
            // Rule: For unit fractions (1/a vs 1/b), if a < b, then 1/a > 1/b.
            if (d1 < d2) {
                correctSign = '>'; // e.g., 1/3 > 1/5
            } else if (d1 > d2) {
                correctSign = '<'; // e.g., 1/5 < 1/3
            } else {
                correctSign = '='; // Safety check, though d1 !== d2
            }

            return { d1, d2, correctSign };
        }

        function displayQuestion() {
            if (questionCount >= totalQuestions) {
                endGame();
                return;
            }

            questionCount++;
            currentQuestion = generateRandomQuestion();

            // Clear previous feedback
            resultMessage.textContent = '';
            resultMessage.classList.remove('correct-feedback', 'incorrect-feedback', 'scale-110');
            instructionText.textContent = `Question ${questionCount} - Select the correct sign:`;
            
            // Enable buttons
            document.querySelectorAll('.comparison-btn').forEach(btn => btn.disabled = false);

            questionArea.innerHTML = `
                <!-- First Fraction Group (No Bar) -->
                <div class="flex flex-col items-center p-2">
                    ${createFractionHTML(currentQuestion.d1)}
                </div>

                <!-- Comparison Circle -->
                <div class="comparison-circle flex-shrink-0">?</div>

                <!-- Second Fraction Group (No Bar) -->
                <div class="flex flex-col items-center p-2">
                    ${createFractionHTML(currentQuestion.d2)}
                </div>
            `;
        }

        window.checkAnswer = function(userAnswer) {
            // Disable buttons to prevent multiple clicks
            document.querySelectorAll('.comparison-btn').forEach(btn => btn.disabled = true);
            
            const circle = questionArea.querySelector('.comparison-circle');
            circle.textContent = userAnswer; // Show the user's choice

            let isCorrect = userAnswer === currentQuestion.correctSign;

            if (isCorrect) {
                score++;
                resultMessage.textContent = 'Correct! ğŸ‰';
                resultMessage.classList.add('correct-feedback', 'scale-110');
            } else {
                resultMessage.textContent = `Incorrect! ğŸ˜” (Correct: ${currentQuestion.correctSign})`;
                resultMessage.classList.add('incorrect-feedback', 'scale-110');
            }
            
            scoreDisplay.textContent = `Score: ${score}`;

            // Wait a moment before loading the next question
            setTimeout(displayQuestion, 1500);
        }

        function startGame() {
            score = 0;
            questionCount = 0;
            scoreDisplay.textContent = 'Score: 0';
            messageBox.classList.add('hidden');
            document.getElementById('game-container').classList.remove('blur-sm');
            displayQuestion();
        }

        function endGame() {
            // Hide controls and show final score message
            instructionText.textContent = '';
            resultMessage.textContent = '';
            questionArea.innerHTML = `<p class="text-3xl text-gray-500">Game Over!</p>`;

            finalScoreTitle.textContent = 'Game Over!';
            finalScoreText.innerHTML = `You scored <span class="text-4xl font-extrabold text-blue-500">${score}</span> out of ${totalQuestions}!`;
            
            messageBox.classList.remove('hidden');
            document.getElementById('game-container').classList.add('blur-sm');
        }

        // Start the game when the window loads
        window.onload = startGame;
    </script>

</body>
</html>