<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рк╡ркзрк╛рк░рлЗ ркХрлЗ ркУркЫрлБркВ ркЧркгркдрк░рлАркирлА рк░ркоркд</title>
    <!-- Tailwind CSS for styling --><script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ркХрк╕рлНркЯрко рк╕рлНркЯрк╛ркЗрк▓рк┐ркВркЧ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Gujarati:wght@400;700&display=swap');

        body {
            font-family: 'Noto Sans Gujarati', sans-serif;
            background-color: #e0f7fa; /* ркЖркЫрлЛ рк╡рк╛ркжрк│рлА ркмрлЗркХркЧрлНрк░рк╛ркЙркирлНркб */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
        }

        .game-container {
            width: 100%;
            max-width: 768px;
            background-color: #fff;
            padding: 1.5rem;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        /* рккрлНрк░рк╢рлНрки ркХрк╛рк░рлНркбркирлБркВ рк╕рлНркЯрк╛ркЗрк▓рк┐ркВркЧ */
        .question-card {
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 1rem 0;
            margin-bottom: 1rem;
            min-height: 200px; /* ркХрк╛рк░рлНркбркирлА ркКркВркЪрк╛ркИ ркЬрк╛рк│рк╡рк╡рк╛ ркорк╛ркЯрлЗ */
            transition: opacity 0.3s ease-in-out;
        }

        .group-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 45%;
            padding: 0.5rem;
            border-radius: 12px;
            border: 2px solid #ccc;
            transition: background-color 0.2s ease, transform 0.2s ease;
            position: relative;
            min-height: 150px; /* ркЯркЪ ркорк╛ркЯрлЗ рккрлВрк░ркдрлА ркЬркЧрлНркпрк╛ */
            cursor: pointer;
        }

        .group-box:hover:not(.disabled) {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* ркЬрлНркпрк╛рк░рлЗ ркЬрк╡рк╛ркм ркЕрккрк╛ркИ ркЬрк╛ркп ркдрлНркпрк╛рк░рлЗ ркХрлНрк▓рк┐ркХ ркмркВркз ркХрк░рк╡рк╛ ркорк╛ркЯрлЗ */
        .group-box.disabled {
            pointer-events: none;
            cursor: default;
        }

        .image-display { /* ркЗркорлЛркЬрлА ркбрк┐рк╕рлНрккрлНрк▓рлЗ ркХркирлНркЯрлЗркирк░ */
            line-height: 1.2;
            text-align: center;
            height: 100%;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px; /* ркЧрлЗркк ркЬрк╛рк│рк╡рлНркпрлЛ */
            /* ркЦрк╛ркдрк░рлА ркХрк░рлЛ ркХрлЗ ркЗркорлЛркЬрлАрк╕ ркХрк▓рк░ркорк╛ркВ рк░рлЗркирлНркбрк░ ркерк╛ркп */
            font-family: "Segoe UI Emoji", "Noto Color Emoji", "Segoe UI Symbol", "Apple Color Emoji", sans-serif;
        }
        
        .emoji-item { /* ркЗркорлЛркЬрлАрк╕ ркорк╛ркЯрлЗ ркХрк╕рлНркЯрко рк╕рлНркЯрк╛ркЗрк▓ */
            font-size: 40px; /* ркЗркорлЛркЬрлАркирлБркВ ркХркж (ркорлЛркмрк╛ркЗрк▓ ркорк╛ркЯрлЗ) */
            line-height: 1; /* рк▓рк╛ркЗрки рк╕рлНрккрлЗрк╕рк┐ркВркЧ */
            width: 40px; /* рклрлНрк▓рлЗркХрлНрк╕ ркорк╛ркЯрлЗ рк╕ркорк╛рки рккрк╣рлЛрк│рк╛ркИ */
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* рккрлНрк░рк╢рлНркиркирлЛ ркХрлНрк░ркорк╛ркВркХ */
        .question-number {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 1.25rem;
            font-weight: 700;
            color: #00bcd4;
        }


        .group-box.correct-answer {
            background-color: #c8e6c9; /* рк╕рк╛ркЪрлЛ ркЬрк╡рк╛ркм - ркЖркЫрлЛ рк▓рлАрк▓рлЛ */
            border: 3px solid #4caf50;
        }
        
        .group-box.wrong-answer {
            background-color: #ffcdd2; /* ркЦрлЛркЯрлЛ ркЬрк╡рк╛ркм - ркЖркЫрлЛ рк▓рк╛рк▓ */
            border: 3px solid #f44336;
        }
        
        /* ркорлЛркмрк╛ркЗрк▓ ркПркбркЬрк╕рлНркЯркорлЗркирлНркЯ */
        @media (max-width: 640px) {
            .image-display { /* ркорлЛркмрк╛ркЗрк▓ ркорк╛ркЯрлЗ рккркг ркорлЛркЯрлА рк╕рк╛ркИркЭ */
                gap: 5px;
            }
            .emoji-item {
                font-size: 35px; /* ркорлЛркмрк╛ркЗрк▓ ркорк╛ркЯрлЗ ркерлЛркбрлБркВ ркирк╛ркирлБркВ ркХркж */
                width: 35px;
                height: 35px;
            }
            .question-card {
                flex-direction: column;
                padding: 0.5rem 0;
            }
            .group-box {
                width: 100%;
                margin: 0.5rem 0;
                min-height: 100px;
            }
        }
        
        /* ркбрлЗрк╕рлНркХркЯрлЛркк ркорк╛ркЯрлЗ рк╡ркзрлБ ркорлЛркЯрлА рк╕рк╛ркИркЭ (ркУрккрлНрк╢ркирк▓) */
        @media (min-width: 769px) {
            .emoji-item {
                font-size: 50px; /* ркбрлЗрк╕рлНркХркЯрлЛркк ркорк╛ркЯрлЗ ркорлЛркЯрлБркВ ркХркж */
                width: 50px;
                height: 50px;
                gap: 10px;
            }
        }
    </style>
</head>
<body class="p-4">

    <div class="game-container">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-6 border-b pb-3">рк╡ркзрк╛рк░рлЗ ркХрлЗ ркУркЫрлБркВ? ркЧркгркдрк░рлАркирлА рк░ркоркд</h1>
        
        <p class="text-lg text-center text-gray-600 mb-6 font-semibold">рк╕рлВркЪркирк╛: ркЬрлЗ ркЬрлВркеркорк╛ркВ **рк╡ркзрк╛рк░рлЗ** рк╡рк╕рлНркдрлБркУ рк╣рлЛркп ркдрлЗркирк╛ рккрк░ ркХрлНрк▓рк┐ркХ ркХрк░рлЛ.</p>

        <!-- рк╕ркВркжрлЗрк╢/рк╕рлНркерк┐ркдрк┐ ркжрк░рлНрк╢рк╛рк╡рк╡рк╛ ркорк╛ркЯрлЗркирлБркВ ркХрлНрк╖рлЗркдрлНрк░ --><div id="message-box" class="text-center p-4 rounded-lg text-white font-bold mb-6 transition duration-300" style="background-color: #3b82f6;">
            ркирк╡рлА рк░ркоркд рк╢рк░рлВ ркХрк░рк╡рк╛ ркорк╛ркЯрлЗ ркирлАркЪрлЗркирлБркВ ркмркЯрки ркжркмрк╛рк╡рлЛ.
        </div>

        <!-- рккрлНрк░рк╢рлНрки ркХркирлНркЯрлЗркирк░ (рклркХрлНркд ркПркХ рккрлНрк░рк╢рлНрки ркЕрк╣рлАркВ ркжрлЗркЦрк╛рк╢рлЗ) --><div id="questions-container" class="space-y-4">
            <!-- рккрлНрк░рк╢рлНрки ркЕрк╣рлАркВ JS ркжрлНрк╡рк╛рк░рк╛ ркЙркорлЗрк░рк╡рк╛ркорк╛ркВ ркЖрк╡рк╢рлЗ --></div>

        <!-- ркирк┐ркпркВркдрлНрк░ркг ркмркЯркирлЛ --><div class="flex justify-center mt-8 space-x-4">
            <button id="new-game-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl shadow-lg transition duration-200 transform hover:scale-105">
                ркирк╡рлА рк░ркоркд (рлк рккрлНрк░рк╢рлНркирлЛ)
            </button>
            <!-- ркЬрк╡рк╛ркм ркЪркХрк╛рк╕ркгрлА ркмркЯрки рк╣рк╡рлЗ ркжрлВрк░ ркХрк░рк╡рк╛ркорк╛ркВ ркЖрк╡рлНркпрлБркВ ркЫрлЗ --></div>
        
        <div class="text-center mt-8 text-sm text-gray-500">
            Created by: Rajesh barochia
        </div>

    </div>

    <script>
        // ркЧрлНрк▓рлЛркмрк▓ рк╡рлЗрк░рк┐ркПркмрк▓рлНрк╕
        let gameData = []; // ркмркзрк╛ рлк рккрлНрк░рк╢рлНркирлЛркирлЛ ркбрлЗркЯрк╛
        let totalQuestions = 4; // ркХрлБрк▓ рккрлНрк░рк╢рлНркирлЛ
        let currentQuestionIndex = 0; // рк╣рк╛рк▓ркирлЛ рккрлНрк░рк╢рлНрки ркХрлНрк░ркорк╛ркВркХ (0 ркерлА 3)
        let correctAnswersCount = 0; // рк╕рк╛ркЪрк╛ ркЬрк╡рк╛ркмрлЛркирлА рк╕ркВркЦрлНркпрк╛

        // DOM ркПрк▓рк┐ркорлЗркирлНркЯрлНрк╕
        const questionsContainerEl = document.getElementById('questions-container');
        const messageBox = document.getElementById('message-box');
        const newGameBtn = document.getElementById('new-game-btn');

        // рк╡рк┐рк╡рк┐ркз рклрк│рлЛркирк╛ ркЗркорлЛркЬрлАрк╕ркирлЛ рк╕ркВркЧрлНрк░рк╣ (рк╡ркзрлБ рк╡рк┐рк╢рлНрк╡рк╕ркирлАркп)
        const fruitEmojis = [
            'ЁЯНО', // Apple
            'ЁЯНМ', // Banana
            'ЁЯНЗ', // Grapes
            'ЁЯНЙ', // Watermelon
            'ЁЯНК', // Orange
            'ЁЯНУ', // Strawberry
            'ЁЯНН', // Pineapple
            'ЁЯеЭ', // Kiwi
            'ЁЯНТ', // Cherry
            'ЁЯен'  // Mango
        ];
        
        // ркЧрлБркЬрк░рк╛ркдрлА ркЕркВркХрлЛркирлБркВ ркорлЗрккрк┐ркВркЧ
        const gujaratiNumerals = ['рлж', 'рлз', 'рли', 'рлй', 'рлк', 'рлл', 'рлм', 'рлн', 'рло', 'рлп'];


        // ===================================
        // ркпрлБркЯрк┐рк▓рк┐ркЯрлА рклркВркХрлНрк╢ркирлНрк╕
        // ===================================

        /**
         * ркЕркВркЧрлНрк░рлЗркЬрлА ркЕркВркХркирлЗ ркЧрлБркЬрк░рк╛ркдрлА ркЕркВркХркорк╛ркВ рк░рлВрккрк╛ркВркдрк░рк┐ркд ркХрк░рлЗ ркЫрлЗ.
         */
        function toGujarati(num) {
            if (num === null || num === undefined) return '';
            const numStr = String(num); 
            if (!/^\d+$/.test(numStr)) return numStr; 
            return numStr.split('').map(digit => gujaratiNumerals[parseInt(digit)]).join('');
        }

        /**
         * рк░рлЗркирлНркбрко ркиркВркмрк░ ркорлЗрк│рк╡рлЛ (ркирлНркпрлВркиркдрко ркЕркирлЗ ркорк╣ркдрлНркдрко рк╡ркЪрлНркЪрлЗ)
         */
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        /**
         * рк╕ркВркжрлЗрк╢ ркмрлЛркХрлНрк╕ркорк╛ркВ рк╕ркВркжрлЗрк╢ рккрлНрк░ркжрк░рлНрк╢рк┐ркд ркХрк░рлЗ ркЫрлЗ.
         */
        function showMessage(msg, color) {
            messageBox.textContent = msg;
            messageBox.style.backgroundColor = color;
        }

        // ===================================
        // рк░ркоркдркирлА рк▓рлЛркЬрк┐ркХ
        // ===================================

        /**
         * ркПркХ рккрлНрк░рк╢рлНрки ркорк╛ркЯрлЗ рк░рлЗркирлНркбрко ркбрлЗркЯрк╛ ркЬркирк░рлЗркЯ ркХрк░рлЗ ркЫрлЗ.
         */
        function generateQuestion(emoji) { // рк╣рк╡рлЗ emoji рк╕рлНркЯрлНрк░рк┐ркВркЧ
            let count1;
            let count2;
            
            // ркдрклрк╛рк╡ркд 1 ркХрлЗ 2 рк░рк╛ркЦрк╡рк╛ ркорк╛ркЯрлЗркирлА рк▓рлЛркЬрк┐ркХ
            do {
                // 1. count1 ркирлЗ 1 ркерлА 10 ркирлА рк░рлЗркирлНркЬркорк╛ркВ ркЬркирк░рлЗркЯ ркХрк░рлЛ
                count1 = getRandomInt(1, 10);
                
                // 2. ркдрклрк╛рк╡ркд 1 ркХрлЗ 2 ркорк╛ркВркерлА рккрк╕ркВркж ркХрк░рлЛ
                const difference = getRandomInt(1, 2);

                // 3. рк░рлЗркирлНркбркорк▓рлА count2 ркирлЗ count1 ркерлА рк╡ркзрк╛рк░рлЗ ркХрлЗ ркУркЫрлЛ ркиркХрлНркХрлА ркХрк░рлЛ
                if (Math.random() < 0.5) {
                    count2 = count1 + difference;
                } else {
                    count2 = count1 - difference;
                }

                // 4. count2 ркирлА рк░рлЗркирлНркЬ [1, 10] ркорк╛ркВ ркЬрк╛рк│рк╡рк╡рк╛ркирлА ркЦрк╛ркдрк░рлА ркХрк░рлЛ
                if (count2 < 1 || count2 > 10) {
                    // ркЬрлЛ рк░рлЗркирлНркЬркирлА ркмрк╣рк╛рк░ ркЬрк╛ркп, ркдрлЛ рк╡рк┐рк░рлБркжрлНркз ркУрккрк░рлЗрк╢рки ркХрк░рлЛ.
                    if (count2 < 1) {
                        count2 = count1 + difference;
                    } else { // count2 > 10
                        count2 = count1 - difference;
                    }
                }
                
                // ркЖ рк▓рлЛркЬрк┐ркХ ркЦрк╛ркдрк░рлА ркХрк░рлЗ ркЫрлЗ ркХрлЗ |count1 - count2| = 1 ркЕркерк╡рк╛ 2.
            } while (count1 === count2); // ркЦрк╛ркдрк░рлА ркХрк░рлЛ ркХрлЗ рк╕ркВркЦрлНркпрк╛ркУ ркЕрк▓ркЧ ркЫрлЗ

            
            // ркЗркорлЛркЬрлАрк╕ркирлЛ HTML рк╕рлНркЯрлНрк░рк┐ркВркЧ ркмркирк╛рк╡рлЛ
            const generateEmojiHtml = (count, item) => {
                let html = '';
                for (let i = 0; i < count; i++) {
                    // <img> ркирлЗ ркмркжрк▓рлЗ <span> ркорк╛ркВ ркЗркорлЛркЬрлА
                    html += `<span class="emoji-item">${item}</span>`;
                }
                return html;
            };

            const group1Html = generateEmojiHtml(count1, emoji);
            const group2Html = generateEmojiHtml(count2, emoji);

            const greaterCount = Math.max(count1, count2);

            let groups = [
                { id: 0, display: group1Html, count: count1 }, // рк╣рк╡рлЗ HTML рк╕рлНркЯрлНрк░рк┐ркВркЧ
                { id: 1, display: group2Html, count: count2 }  // рк╣рк╡рлЗ HTML рк╕рлНркЯрлНрк░рк┐ркВркЧ
            ];
            
            // 50% рк╢ркХрлНркпркдрк╛ ркЫрлЗ ркХрлЗ ркЬрлВркерлЛркирлА рккрлЛркЭрк┐рк╢рки ркмркжрк▓рк╛ркИ ркЬрк╛ркп
            if (Math.random() > 0.5) {
                groups.reverse();
            }
            
            // ркирк╡рлЛ рк╕рк╛ркЪрлЛ ркЬрк╡рк╛ркм ркЗркирлНркбрлЗркХрлНрк╕ (рккрлЛркЭрк┐рк╢ркиркирк╛ ркЖркзрк╛рк░рлЗ)
            const newCorrectIndex = groups.findIndex(g => g.count === greaterCount);

            return {
                groups: groups.map(g => g.display),
                correctIndex: newCorrectIndex,
                counts: groups.map(g => g.count),
            };
        }

        /**
         * ркЧрлЗркоркирлБркВ рк╕рлЗркЯркЕркк ркХрк░рлЗ ркЫрлЗ ркЕркирлЗ рккрлНрк░рк╢рлНркирлЛркирлЗ ркжрк░рлНрк╢рк╛рк╡рлЗ ркЫрлЗ.
         */
        function setupGame() {
            gameData = [];
            currentQuestionIndex = 0;
            correctAnswersCount = 0;
            
            // 1. ркЗркорлЛркЬрлАрк╕ркирлЗ рк╢рклрк▓ ркХрк░рлЛ
            const shuffledEmojis = [...fruitEmojis].sort(() => Math.random() - 0.5);
            
            // 2. рккрлНрк░рк╢рлНркирлЛркирлА рк╕ркВркЦрлНркпрк╛ ркЬрлЗркЯрк▓рк╛ ркЕркирлЛркЦрк╛ ркЗркорлЛркЬрлАрк╕ рккрк╕ркВркж ркХрк░рлЛ ркЕркирлЗ рккрлНрк░рк╢рлНрки ркбрлЗркЯрк╛ ркЬркирк░рлЗркЯ ркХрк░рлЛ
            const uniqueEmojis = shuffledEmojis.slice(0, totalQuestions);
            for (let i = 0; i < totalQuestions; i++) {
                if (i >= uniqueEmojis.length) break; 
                const emoji = uniqueEmojis[i]; 
                const question = generateQuestion(emoji);
                gameData.push(question);
            }

            // 3. рккрлНрк░ркерко рккрлНрк░рк╢рлНрки рк░рлЗркирлНркбрк░ ркХрк░рлЛ
            renderCurrentQuestion();
            showMessage(`ркирк╡рлА рк░ркоркд рк╢рк░рлВ! ${toGujarati(gameData.length)} рккрлНрк░рк╢рлНркирлЛркирк╛ рк╡ркзрк╛рк░рлЗ рк╡рк╕рлНркдрлБркУ ркзрк░рк╛рк╡ркдрк╛ ркЬрлВрке рккрк░ ркХрлНрк▓рк┐ркХ ркХрк░рлЛ.`, '#3b82f6');
        }

        /**
         * рк╣рк╛рк▓ркирк╛ рккрлНрк░рк╢рлНркиркирлЗ DOM ркорк╛ркВ рк░рлЗркирлНркбрк░ ркХрк░рлЗ ркЫрлЗ.
         */
        function renderCurrentQuestion() {
            questionsContainerEl.innerHTML = '';
            
            if (currentQuestionIndex >= gameData.length) {
                endGame();
                return;
            }

            const question = gameData[currentQuestionIndex];
            const index = currentQuestionIndex;

            const card = document.createElement('div');
            card.className = 'question-card rounded-xl border-2 border-gray-200 transition duration-300';
            card.setAttribute('data-index', index);
            
            // рккрлНрк░рк╢рлНрки ркХрлНрк░ркорк╛ркВркХ
            const qNum = document.createElement('div');
            qNum.className = 'question-number';
            qNum.textContent = `${toGujarati(index + 1)} / ${toGujarati(gameData.length)}`;
            card.appendChild(qNum);

            // ркЧрлНрк░рлБркк 1
            const group1 = createGroupBox(question.groups[0], index, 0);
            // ркЧрлНрк░рлБркк 2
            const group2 = createGroupBox(question.groups[1], index, 1);

            card.appendChild(group1);
            card.appendChild(group2);
            questionsContainerEl.appendChild(card);
            
            // ркПркирк┐ркорлЗрк╢рки: ркзрлАркорлЗ ркзрлАркорлЗ ркжрлЗркЦрк╛ркп
            setTimeout(() => {
                card.style.opacity = '1';
            }, 10);
        }

        /**
         * ркЗркорлЛркЬрлАрк╕ркирлБркВ ркЬрлВрке ркмрлЛркХрлНрк╕ ркмркирк╛рк╡рлЗ ркЫрлЗ.
         */
        function createGroupBox(contentHtml, qIndex, gIndex) {
            const box = document.createElement('div');
            box.className = 'group-box flex-grow';
            box.setAttribute('data-group-index', gIndex);
            
            const display = document.createElement('div');
            display.className = 'image-display'; // ркЗркорлЛркЬрлА ркбрк┐рк╕рлНрккрлНрк▓рлЗ ркХркирлНркЯрлЗркирк░
            display.innerHTML = contentHtml; // рк╕рлАркзрлБркВ HTML рк╕рлНркЯрлНрк░рк┐ркВркЧ ркЙркорлЗрк░рлЛ
            
            box.appendChild(display);

            // ркЗрк╡рлЗркирлНркЯ рк▓рк┐рк╕ркирк░
            box.addEventListener('click', () => handleSelection(qIndex, gIndex, box));

            return box;
        }

        /**
         * ркЬрлНркпрк╛рк░рлЗ ркмрк╛рк│ркХ ркХрлЛркИ ркЬрлВрке рккрк╕ркВркж ркХрк░рлЗ ркЫрлЗ ркЕркирлЗ ркЬрк╡рк╛ркм ркЪркХрк╛рк╕рлЗ ркЫрлЗ.
         */
        function handleSelection(qIndex, gIndex, clickedBox) {
            // ркЦрк╛ркдрк░рлА ркХрк░рлЛ ркХрлЗ ркХрлНрк▓рк┐ркХ рк╣рк╛рк▓ркирк╛ рккрлНрк░рк╢рлНрки ркорк╛ркЯрлЗ ркЬ ркЫрлЗ
            if (qIndex !== currentQuestionIndex) return; 

            const questionData = gameData[qIndex];
            const correctGIndex = questionData.correctIndex;
            const isCorrect = gIndex === correctGIndex;

            // ркХрк╛рк░рлНркбркорк╛ркВркирк╛ ркмркзрк╛ ркмрлЛркХрлНрк╕ркирлЗ disabled ркХрк░рлЛ
            const questionCard = clickedBox.closest('.question-card');
            questionCard.querySelectorAll('.group-box').forEach(box => {
                box.classList.add('disabled');
            });
            
            // рккрлНрк░ркдрк┐ркнрк╛рк╡ (Feedback)
            if (isCorrect) {
                correctAnswersCount++;
                clickedBox.classList.add('correct-answer');
                showMessage(`рк╕рк╛ркЪрлЛ ркЬрк╡рк╛ркм! ЁЯСП ЁЯСН`, '#4caf50'); // рк▓рлАрк▓рлЛ
            } else {
                clickedBox.classList.add('wrong-answer');
                
                // рк╕рк╛ркЪрлЛ ркЬрк╡рк╛ркм ркХркпрлЛ рк╣ркдрлЛ ркдрлЗ ркмркдрк╛рк╡рлЛ
                questionCard.querySelector(`[data-group-index="${correctGIndex}"]`).classList.add('correct-answer');
                
                showMessage(`ркЦрлЛркЯрлЛ ркЬрк╡рк╛ркм! ЁЯШФ рк╕рк╛ркЪрлЛ ркЬрк╡рк╛ркм рк▓рлАрк▓рк╛ рк░ркВркЧркорк╛ркВ ркжрк░рлНрк╢рк╛рк╡рлЗрк▓ ркЫрлЗ.`, '#f44336'); // рк▓рк╛рк▓
            }

            // 1.5 рк╕рлЗркХркирлНркб рккркЫрлА ркирлЗркХрлНрк╕рлНркЯ рккрлНрк░рк╢рлНрки рккрк░ ркЬрк╛ркУ
            currentQuestionIndex++;
            setTimeout(() => {
                // рккрлНрк░рк╢рлНрки ркХрк╛рк░рлНркбркирлЗ ркЕркжрлНрк░рк╢рлНркп ркХрк░рлЛ
                questionCard.style.opacity = '0'; 
                // ркЕркжрлНрк░рк╢рлНркп ркеркпрк╛ рккркЫрлА ркирк╡рлЛ рккрлНрк░рк╢рлНрки рк░рлЗркирлНркбрк░ ркХрк░рлЛ
                setTimeout(renderCurrentQuestion, 300); // 300ms рккркЫрлА ркирк╡рлЛ рккрлНрк░рк╢рлНрки рк▓рлЛркб ркХрк░рлЛ
            }, 1500);
        }

        /**
         * рк░ркоркд рк╕ркорк╛рккрлНркд ркерк╛ркп ркдрлНркпрк╛рк░рлЗ ркЕркВркдрк┐рко рк╕рлНркХрлЛрк░ ркжрк░рлНрк╢рк╛рк╡рлЗ ркЫрлЗ.
         */
        function endGame() {
            questionsContainerEl.innerHTML = '';
            
            let finalMessage;
            let finalColor;

            if (correctAnswersCount === gameData.length) {
                 finalMessage = `ЁЯСМЁЯП╜ ЁЯОЙ ркЕркнрк┐ркиркВркжрки! ркдркорлЗ ркмркзрк╛ ркЬ рккрлНрк░рк╢рлНркирлЛркирк╛ рк╕рк╛ркЪрк╛ ркЬрк╡рк╛ркм ркЖрккрлНркпрк╛ (${toGujarati(correctAnswersCount)}/${toGujarati(gameData.length)})!`;
                 finalColor = '#10b981';
            } else {
                 finalMessage = `рк╢рк╛ркмрк╛рк╢! рк░ркоркд рк╕ркорк╛рккрлНркд. ркдркорк╛рк░рлЛ рк╕рлНркХрлЛрк░: ${toGujarati(correctAnswersCount)}/${toGujarati(gameData.length)}. рклрк░рлА рккрлНрк░ркпрк╛рк╕ ркХрк░рлЛ.`;
                 finalColor = '#ff9800';
            }
            showMessage(finalMessage, finalColor);
        }


        // ===================================
        // ркЗрк╡рлЗркирлНркЯ рк▓рк┐рк╕ркирк░рлНрк╕ ркЕркирлЗ рккрлНрк░рк╛рк░ркВркнрк┐ркХ рк╕рлЗркЯркЕркк
        // ===================================

        // рк░ркоркд рк╢рк░рлВркЖркд
        newGameBtn.addEventListener('click', setupGame);
        
        // рккрлНрк░рк╛рк░ркВркнрк┐ркХ рк░ркоркд рк╕рлЗркЯркЕркк
        window.onload = function() {
            setupGame();
        };
    </script>
</body>
</html>