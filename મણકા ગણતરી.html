<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ркоркгркХрк╛ ркЧркгркдрк░рлА рк░ркоркд</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Vadodara:wght@400;700&display=swap');
        
        body {
            font-family: 'Hind Vadodara', sans-serif;
            background-color: #f0fdf4;
            touch-action: manipulation;
        }

        .bead {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: inline-block;
            margin: 2px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            animation: bounceIn 0.5s ease;
        }

        @keyframes bounceIn {
            0% { transform: scale(0); }
            70% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* рк╕рк╛ркЪрк╛ ркЬрк╡рк╛ркм ркорк╛ркЯрлЗ ркирк╡рлБркВ ркЕркирлЗ рк╢ркХрлНркдрк┐рк╢рк╛рк│рлА ркПркирк┐ркорлЗрк╢рки */
        @keyframes successBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        /* рк╕рк╛ркЪрк╛ ркЬрк╡рк╛ркмркирлА рк╕рлНркЯрк╛ркЗрк▓ */
        .success-animate {
            animation: successBounce 0.8s ease-in-out infinite !important;
            color: #166534 !important; /* ркШркЯрлНркЯ рк▓рлАрк▓рлЛ */
            background-color: #f0fdf4 !important;
            border-color: #22c55e !important;
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.5) !important;
            opacity: 1 !important; /* Disable рк╣рлЛрк╡рк╛ ркЫркдрк╛ркВ ркЭрк╛ркВркЦрлБркВ ркирк╣рлАркВ ркерк╛ркп */
            -webkit-text-fill-color: #166534 !important; /* Safari ркорк╛ркЯрлЗ */
        }

        .box {
            min-height: 180px;
            transition: all 0.3s ease;
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input {
            transition: all 0.3s ease;
        }

        input:focus {
            background-color: #fff7ed;
            transform: scale(1.05);
            border-color: #f97316;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4">

    <!-- Header -->
    <header class="text-center mb-6">
        <h1 class="text-3xl md:text-4xl font-bold text-orange-600 mb-2">ЁЯФ┤ ркоркгркХрк╛ ркЧркгркдрк░рлА рк░ркоркд ЁЯФ╡</h1>
        <p class="text-gray-600 font-semibold text-lg">ркЬркоркгрлЗркерлА ркбрк╛ркмрлА ркдрк░ркл (ркПркХрко ркерлА рк╣ркЬрк╛рк░) ркЕркВркХ рк▓ркЦрлЛ</p>
    </header>

    <!-- Game Container -->
    <main class="w-full max-w-4xl bg-white rounded-3xl shadow-2xl p-6 border-t-8 border-orange-500">
        
        <!-- Display Boxes -->
        <div class="grid grid-cols-4 gap-2 md:gap-4 mb-8">
            <div class="flex flex-col items-center">
                <div id="box-1000" class="box w-full bg-blue-100 border-4 border-blue-400 rounded-xl p-2 flex flex-wrap content-start justify-center overflow-y-auto shadow-inner"></div>
                <div class="mt-2 font-bold text-blue-700 text-lg">рк╣ркЬрк╛рк░</div>
            </div>
            <div class="flex flex-col items-center">
                <div id="box-100" class="box w-full bg-red-100 border-4 border-red-400 rounded-xl p-2 flex flex-wrap content-start justify-center overflow-y-auto shadow-inner"></div>
                <div class="mt-2 font-bold text-red-700 text-lg">рк╕рлЛ</div>
            </div>
            <div class="flex flex-col items-center">
                <div id="box-10" class="box w-full bg-yellow-100 border-4 border-yellow-400 rounded-xl p-2 flex flex-wrap content-start justify-center overflow-y-auto shadow-inner"></div>
                <div class="mt-2 font-bold text-yellow-700 text-lg">ркжрк╢ркХ</div>
            </div>
            <div class="flex flex-col items-center">
                <div id="box-1" class="box w-full bg-green-100 border-4 border-green-400 rounded-xl p-2 flex flex-wrap content-start justify-center overflow-y-auto shadow-inner"></div>
                <div class="mt-2 font-bold text-green-700 text-lg">ркПркХрко</div>
            </div>
        </div>

        <!-- Input Section (Order: 1000, 100, 10, 1) -->
        <div id="input-container" class="grid grid-cols-4 gap-2 md:gap-4 mb-8">
            <input type="number" id="input-1000" class="w-full text-4xl font-bold text-center border-4 border-blue-300 rounded-2xl p-3 outline-none" placeholder="?">
            <input type="number" id="input-100" class="w-full text-4xl font-bold text-center border-4 border-red-300 rounded-2xl p-3 outline-none" placeholder="?">
            <input type="number" id="input-10" class="w-full text-4xl font-bold text-center border-4 border-yellow-300 rounded-2xl p-3 outline-none" placeholder="?">
            <input type="number" id="input-1" class="w-full text-4xl font-bold text-center border-4 border-green-300 rounded-2xl p-3 outline-none" placeholder="?">
        </div>

        <!-- Controls -->
        <div class="flex flex-col md:flex-row justify-center items-center gap-6">
            <button onclick="checkAnswer()" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-4 px-10 rounded-full text-2xl shadow-lg transition transform active:scale-90">
                тЬЕ ркдрккрк╛рк╕рлЛ
            </button>
            <button onclick="newGame()" class="bg-blue-50 hover:bg-blue-100 text-blue-600 font-bold py-4 px-10 rounded-full text-2xl border-2 border-blue-200 transition transform active:scale-90">
                ЁЯФД ркирк╡рлА рк░ркоркд
            </button>
        </div>

        <!-- Feedback -->
        <div id="message-container" class="mt-10 text-center hidden">
            <div id="message-box" class="text-3xl font-bold mb-4"></div>
            <button id="speak-btn" onclick="speakCurrentNumber()" class="bg-green-100 hover:bg-green-200 text-green-700 px-6 py-3 rounded-2xl shadow-md transition inline-flex items-center gap-3 font-bold text-xl">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M11 5L6 9H2v6h4l5 4V5z"></path><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path><path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path></svg>
                рк╕ркВркЦрлНркпрк╛ рк╕рк╛ркВркнрк│рлЛ
            </button>
        </div>

    </main>

    <!-- Footer -->
    <footer class="mt-12 text-center">
        <p class="text-md font-bold text-gray-400 tracking-wide uppercase">Created by: Rajesh barochia</p>
    </footer>

    <script>
        let currentValues = { thousand: 0, hundred: 0, ten: 0, unit: 0 };
        const inputs = {
            thousand: document.getElementById('input-1000'),
            hundred: document.getElementById('input-100'),
            ten: document.getElementById('input-10'),
            unit: document.getElementById('input-1')
        };
        const boxes = {
            thousand: document.getElementById('box-1000'),
            hundred: document.getElementById('box-100'),
            ten: document.getElementById('box-10'),
            unit: document.getElementById('box-1')
        };
        
        // Right to Left order for navigation
        const inputWriteOrder = [inputs.unit, inputs.ten, inputs.hundred, inputs.thousand];

        const messageContainer = document.getElementById('message-container');
        const messageBox = document.getElementById('message-box');

        function speak(text) {
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance();
            msg.text = text;
            msg.lang = 'gu-IN';
            msg.rate = 0.85;
            window.speechSynthesis.speak(msg);
        }

        function speakCurrentNumber() {
            const total = (currentValues.thousand * 1000) + (currentValues.hundred * 100) + (currentValues.ten * 10) + currentValues.unit;
            speak(`${total}`);
        }

        function createBeads(boxElement, count, colorClass) {
            boxElement.innerHTML = '';
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const bead = document.createElement('div');
                    bead.className = `bead ${colorClass}`;
                    boxElement.appendChild(bead);
                }, i * 60);
            }
        }

        function newGame() {
            Object.values(inputs).forEach(input => {
                input.value = '';
                input.classList.remove('success-animate', 'border-red-500', 'border-green-500');
                input.disabled = false;
            });
            messageContainer.classList.add('hidden');
            
            currentValues.thousand = Math.floor(Math.random() * 10);
            currentValues.hundred = Math.floor(Math.random() * 10);
            currentValues.ten = Math.floor(Math.random() * 10);
            currentValues.unit = Math.floor(Math.random() * 10);

            createBeads(boxes.thousand, currentValues.thousand, 'bg-blue-500');
            createBeads(boxes.hundred, currentValues.hundred, 'bg-red-500');
            createBeads(boxes.ten, currentValues.ten, 'bg-yellow-500');
            createBeads(boxes.unit, currentValues.unit, 'bg-green-500');

            speak("ркПркХркоркерлА ркЧркгрк╡рк╛ркирлБркВ рк╢рк░рлВ ркХрк░рлЛ");
            inputs.unit.focus();
        }

        function checkAnswer() {
            const uT = parseInt(inputs.thousand.value) || 0;
            const uH = parseInt(inputs.hundred.value) || 0;
            const uTe = parseInt(inputs.ten.value) || 0;
            const uU = parseInt(inputs.unit.value) || 0;

            const isCorrect = (uT === currentValues.thousand && uH === currentValues.hundred && uTe === currentValues.ten && uU === currentValues.unit);

            messageContainer.classList.remove('hidden');
            Object.values(inputs).forEach(input => input.classList.remove('border-red-500', 'border-green-500', 'success-animate'));

            if (isCorrect) {
                messageBox.innerHTML = "ЁЯе│ ркЦрлБркм рк╕рк░рк╕! рк╕рк╛ркЪрлЛ ркЬрк╡рк╛ркм ркЫрлЗ! ЁЯМЯ";
                messageBox.className = "text-3xl font-bold mb-4 text-green-600";
                
                const fullNumber = (uT * 1000) + (uH * 100) + (uTe * 10) + uU;
                speak(`рк╕рк╛ркЪрлЛ ркЬрк╡рк╛ркм! ркЖ рк╕ркВркЦрлНркпрк╛ ркЫрлЗ ${fullNumber}`);
                
                // ркПркирк┐ркорлЗрк╢рки ркЕркирлЗ ркпрлБркирк┐рклрлЛрк░рлНрко рк▓рлАрк▓рлЛ рк░ркВркЧ рк▓рк╛ркЧрлБ ркХрк░рлЛ
                Object.values(inputs).forEach(input => {
                    input.classList.add('success-animate');
                    input.disabled = true;
                });
            } else {
                messageBox.innerHTML = "тЭМ рклрк░рлАркерлА рккрлНрк░ркпркдрлНрки ркХрк░рлЛ ЁЯзР";
                messageBox.className = "text-3xl font-bold mb-4 text-red-600";
                speak("ркЦрлЛркЯрлЛ ркЬрк╡рк╛ркм, рклрк░рлАркерлА ркЧркгрлЛ");
                
                if(uT !== currentValues.thousand) inputs.thousand.classList.add('border-red-500');
                if(uH !== currentValues.hundred) inputs.hundred.classList.add('border-red-500');
                if(uTe !== currentValues.ten) inputs.ten.classList.add('border-red-500');
                if(uU !== currentValues.unit) inputs.unit.classList.add('border-red-500');
            }
        }

        // Keyboard Logic: Right to Left
        inputWriteOrder.forEach((input, index, arr) => {
            input.addEventListener('input', (e) => {
                if (e.target.value.length >= 1 && index < arr.length - 1) {
                    arr[index + 1].focus();
                }
            });
            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && e.target.value === '' && index > 0) {
                    arr[index - 1].focus();
                }
            });
        });

        window.onload = newGame;
    </script>
</body>
</html>