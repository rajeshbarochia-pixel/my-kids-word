<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рк╕рк░рлНрк╡ркирк╛рко ркЬрлЛркбрлА ркорлЗрк│рк╡рк╡рк╛ркирлА рк░ркоркд</title>
    <!-- Tailwind CSS CDN рк▓рлЛркб ркХрк░рлЛ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ркХрк╕рлНркЯрко рклрлЛркирлНркЯ ркЕркирлЗ ркмрлЗркХркЧрлНрк░рк╛ркЙркирлНркб */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* рк╣рк│рк╡рлЛ рк╡рк╛ркжрк│рлА ркмрлЗркХркЧрлНрк░рк╛ркЙркирлНркб */
        }
        /* ркХрк╛рк░рлНркб ркорк╛ркЯрлЗ рк╕рк╛ркорк╛ркирлНркп рк╕рлНркЯрк╛ркЗрк▓ */
        .card {
            cursor: pointer;
            transition: all 0.2s;
            user-select: none; /* ркЯрлЗркХрлНрк╕рлНркЯ рк╕рк┐рк▓рлЗркХрлНрк╢рки ркЕркЯркХрк╛рк╡рлЛ */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        /* рк╕рк┐рк▓рлЗркХрлНркЯ ркХрк░рлЗрк▓рк╛ ркХрк╛рк░рлНркбркирлА рк╕рлНркЯрк╛ркЗрк▓ */
        .selected {
            border-color: #3b82f6; /* рк╡рк╛ркжрк│рлА ркХрк┐ркирк╛рк░рлА */
            background-color: #bfdbfe; /* рк╣рк│рк╡рлЛ рк╡рк╛ркжрк│рлА ркмрлЗркХркЧрлНрк░рк╛ркЙркирлНркб */
            transform: scale(1.05);
        }
        /* рк╕рк╛ркЪрлА ркЬрлЛркбрлАрк╡рк╛рк│рк╛ ркХрк╛рк░рлНркбркирлА рк╕рлНркЯрк╛ркЗрк▓ */
        .matched {
            cursor: default;
            background-color: #4ade80; /* рк▓рлАрк▓рлЛ ркмрлЗркХркЧрлНрк░рк╛ркЙркирлНркб */
            border-color: #16a34a; /* ркШрлЗрк░рлЛ рк▓рлАрк▓рлЛ ркХрк┐ркирк╛рк░рлА */
            color: #1f2937; /* ркШрлЗрк░рлЛ ркЯрлЗркХрлНрк╕рлНркЯ */
            box-shadow: none;
            pointer-events: none; /* ркХрлНрк▓рк┐ркХ ркЗрк╡рлЗркирлНркЯ ркЕркЯркХрк╛рк╡рлЛ */
            opacity: 0.7;
        }
        /* ркЧрлЗрко ркХркирлНркЯрлЗркирк░ркирлЗ ркХрлЗркирлНркжрлНрк░ркорк╛ркВ рк░рк╛ркЦрлЛ */
        #game-container {
            min-height: calc(100vh - 8rem);
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div id="app" class="max-w-4xl mx-auto">
        <!-- рк╢рлАрк░рлНрк╖ркХ (Title) -->
        <h1 class="text-3xl sm:text-4xl font-extrabold text-center text-gray-800 mb-2">рк╕рк░рлНрк╡ркирк╛рко ркЬрлЛркбрлА ркмркирк╛рк╡рлЛ</h1>
        <!-- ркмркирк╛рк╡ркирк╛рк░ркирлБркВ ркирк╛рко ркЙркорлЗрк░рлНркпрлБркВ -->
        <p class="text-center text-sm text-gray-500 mb-1">ркмркирк╛рк╡ркирк╛рк░: Rajesh Barochia</p>
        <p class="text-center text-sm text-gray-600 mb-6">ркЪрк┐ркдрлНрк░ ркЕркирлЗ ркпрлЛркЧрлНркп рк╕рк░рлНрк╡ркирк╛рко ркЬрлЛркбрлЛ</p>

        <!-- ркЧрлЗрко ркХркирлНркЯрлЗркирк░ -->
        <div id="game-container" class="flex flex-col md:flex-row justify-center items-stretch gap-4 md:gap-8">
            <!-- ркбрк╛ркмрлА ркмрк╛ркЬрлБ: ркЪрк┐ркдрлНрк░рлЛ (Images) -->
            <div class="flex-1 bg-white p-4 rounded-xl shadow-lg border border-gray-200">
                <h2 class="text-xl font-bold text-center mb-4 text-indigo-700">ркЪрк┐ркдрлНрк░</h2>
                <div id="image-cards" class="space-y-3">
                    <!-- ркЪрк┐ркдрлНрк░ ркХрк╛рк░рлНркбрлНрк╕ ркЕрк╣рлАркВ JavaScript ркжрлНрк╡рк╛рк░рк╛ ркЬркирк░рлЗркЯ ркерк╢рлЗ -->
                </div>
            </div>

            <!-- ркЬркоркгрлА ркмрк╛ркЬрлБ: рк╕рк░рлНрк╡ркирк╛ркорлЛ (Pronouns) -->
            <div class="flex-1 bg-white p-4 rounded-xl shadow-lg border border-gray-200">
                <h2 class="text-xl font-bold text-center mb-4 text-indigo-700">рк╕рк░рлНрк╡ркирк╛рко</h2>
                <div id="pronoun-cards" class="space-y-3">
                    <!-- рк╕рк░рлНрк╡ркирк╛рко ркХрк╛рк░рлНркбрлНрк╕ ркЕрк╣рлАркВ JavaScript ркжрлНрк╡рк╛рк░рк╛ ркЬркирк░рлЗркЯ ркерк╢рлЗ -->
                </div>
            </div>
        </div>

        <!-- ркирк┐ркпркВркдрлНрк░ркгрлЛ ркЕркирлЗ рк╕ркВркжрлЗрк╢ рк╡рк┐рк╕рлНркдрк╛рк░ -->
        <div class="mt-8 flex flex-col items-center">
            <!-- рк╕ркВркжрлЗрк╢ (Feedback Message) -->
            <div id="message" class="text-lg font-semibold text-center mb-4 min-h-[1.5em]"></div>
            
            <!-- ркирк╡рлА ркЧрлЗрко рк╢рк░рлВ ркХрк░рлЛ ркмркЯрки -->
            <button id="new-game-btn" class="px-6 py-3 bg-indigo-600 text-white font-bold rounded-full shadow-lg hover:bg-indigo-700 transition duration-300 transform hover:scale-105">
                ркирк╡рлА ркЧрлЗрко рк╢рк░рлВ ркХрк░рлЛ
            </button>
        </div>
    </div>

    <!-- рк╡рк┐ркЬрлЗркдрк╛ рк╕ркВркжрлЗрк╢ ркорк╛ркЯрлЗ ркорлЛркбрк▓ (Modal for Win Message) -->
    <div id="win-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 hidden items-center justify-center p-4 z-50">
        <div class="bg-white p-8 rounded-xl shadow-2xl max-w-sm w-full text-center transform scale-0 transition-transform duration-500" id="modal-content">
            <svg class="w-16 h-16 text-green-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            <h3 class="text-2xl font-extrabold text-gray-800 mb-3">ркЕркнрк┐ркиркВркжрки!</h3>
            <p class="text-gray-600 mb-6">ркдркорлЗ ркмркзрлА ркЬрлЛркбрлАркУ рк╕рклрк│ркдрк╛рккрлВрк░рлНрк╡ркХ ркорлЗрк│рк╡рлА ркЫрлЗ.</p>
            <button id="close-modal-btn" class="px-5 py-2 bg-green-600 text-white font-bold rounded-full hover:bg-green-700 transition duration-300">
                ркмркВркз ркХрк░рлЛ
            </button>
        </div>
    </div>

    <script>
        // ркЧрлЗркоркирлЛ ркбрлЗркЯрк╛ (рк╕рк░рлНрк╡ркирк╛рко, ркдрлЗркирк╛ рк╡рк┐ркЭрлНркпрлБркЕрк▓ ркЕркирлЗ ркорлЗркЪрк┐ркВркЧ ркХрлА)
        const GAME_DATA = [
            { id: 'I', pronoun: 'I', visual: 'ЁЯЩЛтАНтЩАя╕П', description_gu: 'рккрлЛркдрк╛ркирлЗ ркирк┐рк░рлНркжрлЗрк╢ ркХрк░ркдрлА рк╡рлНркпркХрлНркдрк┐' },
            { id: 'You', pronoun: 'You', visual: 'ЁЯСЙ', description_gu: 'ркмрлАркЬрк╛ркирлЗ ркирк┐рк░рлНркжрлЗрк╢ ркХрк░ркдрлА рк╡рлНркпркХрлНркдрк┐' },
            { id: 'They', pronoun: 'They', visual: 'ЁЯСитАНЁЯСйтАНЁЯСзтАНЁЯСж', description_gu: 'ркЪрк╛рк░ рк▓рлЛркХрлЛркирлЛ рк╕ркорлВрк╣' },
            { id: 'We', pronoun: 'We', visual: 'ЁЯзСтАНЁЯдЭтАНЁЯзС', description_gu: 'ркЖрккркгрлЗ ркмркзрк╛' },
            { id: 'He', pronoun: 'He', visual: 'ЁЯСж', description_gu: 'ркПркХ ркЫрлЛркХрк░рлЛ' },
            { id: 'She', pronoun: 'She', visual: 'ЁЯСз', description_gu: 'ркПркХ ркЫрлЛркХрк░рлА' },
            { id: 'It', pronoun: 'It', visual: 'ЁЯРФ', description_gu: 'ркПркХ ркорк░ркШрлА/рк╡рк╕рлНркдрлБ' }
        ];

        // UI ркПрк▓рк┐ркорлЗркирлНркЯрлНрк╕
        const imageCardsContainer = document.getElementById('image-cards');
        const pronounCardsContainer = document.getElementById('pronoun-cards');
        const messageDisplay = document.getElementById('message');
        const newGameButton = document.getElementById('new-game-btn');
        const winModal = document.getElementById('win-modal');
        const modalContent = document.getElementById('modal-content');
        const closeModalButton = document.getElementById('close-modal-btn');

        // ркЧрлЗрко рк╕рлНркЯрлЗркЯ
        let currentSelection = {
            imageCard: null,
            pronounCard: null
        };
        let matchesFound = 0;

        /**
         * ркПрк░рлЗркирлЗ рк░рлЗркирлНркбркорк▓рлА рк╢рклрк▓ ркХрк░рлЗ ркЫрлЗ (Fisher-Yates (Knuth) shuffle algorithm).
         * @param {Array} array рк╢рклрк▓ ркХрк░рк╡рк╛ркирлЛ ркПрк░рлЗ.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        /**
         * ркХрк╛рк░рлНркб ркПрк▓рк┐ркорлЗркирлНркЯ ркмркирк╛рк╡рлЗ ркЫрлЗ.
         * @param {string} type ркХрк╛рк░рлНркбркирлЛ рккрлНрк░ркХрк╛рк░ ('image' ркЕркерк╡рк╛ 'pronoun').
         * @param {Object} data ркХрк╛рк░рлНркбркирлЛ ркбрлЗркЯрк╛.
         * @returns {HTMLElement} ркмркирк╛рк╡рлЗрк▓рлБркВ ркХрк╛рк░рлНркб ркПрк▓рк┐ркорлЗркирлНркЯ.
         */
        function createCard(type, data) {
            const card = document.createElement('div');
            card.classList.add(
                'card',
                'p-4', 'rounded-xl', 'border-2', 'border-gray-300', 'bg-gray-50', 'text-center',
                'hover:border-indigo-500', 'hover:shadow-md', 'transition', 'duration-200'
            );
            card.dataset.matchId = data.id; // ркорлЗркЪрк┐ркВркЧ ркорк╛ркЯрлЗркирлА ркХрлА

            if (type === 'image') {
                // ркЪрк┐ркдрлНрк░ ркХрк╛рк░рлНркб (emoji)
                card.classList.add('flex', 'items-center', 'justify-start', 'space-x-4');
                card.innerHTML = `
                    <span class="text-4xl leading-none">${data.visual}</span>
                    <span class="text-base text-gray-700 font-medium">${data.description_gu}</span>
                `;
                card.dataset.type = 'image';
            } else {
                // рк╕рк░рлНрк╡ркирк╛рко ркХрк╛рк░рлНркб (text)
                card.classList.add('flex', 'items-center', 'justify-center', 'h-full');
                card.innerHTML = `<span class="text-3xl font-extrabold text-indigo-800">${data.pronoun}</span>`;
                card.dataset.type = 'pronoun';
            }

            card.addEventListener('click', handleCardClick);
            return card;
        }

        /**
         * ркХрк╛рк░рлНркб ркХрлНрк▓рк┐ркХ рк╣рлЗркирлНркбрк▓рк░
         * @param {Event} event ркХрлНрк▓рк┐ркХ ркЗрк╡рлЗркирлНркЯ.
         */
        function handleCardClick(event) {
            const clickedCard = event.currentTarget;

            // ркЬрлЛ ркХрк╛рк░рлНркб рккрк╣рлЗрк▓рлЗркерлА ркЬ ркорлЗркЪ ркеркпрлЗрк▓рлБркВ рк╣рлЛркп, ркдрлЛ ркХрк╢рлБркВ рки ркХрк░рлЛ
            if (clickedCard.classList.contains('matched')) {
                return;
            }

            const cardType = clickedCard.dataset.type;

            // рк╡рк░рлНркдркорк╛рки рккрк╕ркВркжркЧрлАркорк╛ркВркерлА ркХрк╛рк░рлНркб ркжрлВрк░ ркХрк░рлЛ
            if (currentSelection[cardType + 'Card'] === clickedCard) {
                clickedCard.classList.remove('selected');
                currentSelection[cardType + 'Card'] = null;
                messageDisplay.textContent = '';
                return;
            }

            // ркЬрлЛ ркдрлЗ ркЬ рккрлНрк░ркХрк╛рк░ркирлБркВ ркмрлАркЬрлБркВ ркХрк╛рк░рлНркб рккрк╕ркВркж ркеркпрлЗрк▓рлБркВ рк╣рлЛркп, ркдрлЛ ркдрлЗркирлЗ ркЕрки-рк╕рк┐рк▓рлЗркХрлНркЯ ркХрк░рлЛ
            if (currentSelection[cardType + 'Card']) {
                currentSelection[cardType + 'Card'].classList.remove('selected');
            }

            // ркирк╡рлБркВ ркХрк╛рк░рлНркб рк╕рк┐рк▓рлЗркХрлНркЯ ркХрк░рлЛ
            clickedCard.classList.add('selected');
            currentSelection[cardType + 'Card'] = clickedCard;
            messageDisplay.textContent = 'ркмрлАркЬрлБркВ ркХрк╛рк░рлНркб рккрк╕ркВркж ркХрк░рлЛ...';
            messageDisplay.classList.remove('text-red-600', 'text-green-600');
            messageDisplay.classList.add('text-gray-600');


            // ркЬрлЛ ркмркВркирлЗ ркмрк╛ркЬрлБркерлА ркХрк╛рк░рлНркб рккрк╕ркВркж ркеркпрк╛ рк╣рлЛркп, ркдрлЛ ркорлЗркЪ ркЪрлЗркХ ркХрк░рлЛ
            if (currentSelection.imageCard && currentSelection.pronounCard) {
                checkForMatch();
            }
        }

        /**
         * ркорлЗркЪрк┐ркВркЧ рк▓рлЛркЬрк┐ркХ
         */
        function checkForMatch() {
            const imageCard = currentSelection.imageCard;
            const pronounCard = currentSelection.pronounCard;

            const imageId = imageCard.dataset.matchId;
            const pronounId = pronounCard.dataset.matchId;

            if (imageId === pronounId) {
                // рк╕рк╛ркЪрлА ркЬрлЛркбрлА
                matchesFound++;
                messageDisplay.textContent = 'рк╕рк╛ркЪрлА ркЬрлЛркбрлА! ЁЯОЙ';
                messageDisplay.classList.remove('text-gray-600', 'text-red-600');
                messageDisplay.classList.add('text-green-600');

                // ркХрк╛рк░рлНркбрлНрк╕ркирлЗ matched ркдрк░рлАркХрлЗ ркорк╛рк░рлНркХ ркХрк░рлЛ
                imageCard.classList.remove('selected', 'hover:border-indigo-500', 'hover:shadow-md', 'bg-gray-50', 'border-gray-300');
                pronounCard.classList.remove('selected', 'hover:border-indigo-500', 'hover:shadow-md', 'bg-gray-50', 'border-gray-300');
                imageCard.classList.add('matched');
                pronounCard.classList.add('matched');

                // рк╕рлНркЯрлЗркЯ рк░рлАрк╕рлЗркЯ ркХрк░рлЛ
                currentSelection.imageCard = null;
                currentSelection.pronounCard = null;

                // ркЧрлЗрко рк╕ркорк╛рккрлНркд ркеркИ ркХрлЗ ркирк╣рлАркВ ркдрлЗ ркдрккрк╛рк╕рлЛ
                if (matchesFound === GAME_DATA.length) {
                    setTimeout(showWinModal, 500);
                }

            } else {
                // ркЦрлЛркЯрлА ркЬрлЛркбрлА
                messageDisplay.textContent = 'ркЦрлЛркЯрлА ркЬрлЛркбрлА. рклрк░рлАркерлА рккрлНрк░ркпрк╛рк╕ ркХрк░рлЛ.';
                messageDisplay.classList.remove('text-gray-600', 'text-green-600');
                messageDisplay.classList.add('text-red-600');

                // 0.5 рк╕рлЗркХркирлНркб рккркЫрлА рккрк╕ркВркжркЧрлА рк░рлАрк╕рлЗркЯ ркХрк░рлЛ
                setTimeout(() => {
                    imageCard.classList.remove('selected');
                    pronounCard.classList.remove('selected');
                    currentSelection.imageCard = null;
                    currentSelection.pronounCard = null;
                    messageDisplay.textContent = '';
                }, 500);
            }
        }

        /**
         * ркЧрлЗрко ркЬрлАркдрк╡рк╛ рккрк░ ркорлЛркбрк▓ ркмркдрк╛рк╡рлЛ
         */
        function showWinModal() {
            winModal.classList.remove('hidden');
            winModal.classList.add('flex');
            // ркорлЛркбрк▓ркирлЗ ркПркирк┐ркорлЗркЯ ркХрк░рк╡рк╛ ркорк╛ркЯрлЗ
            setTimeout(() => {
                modalContent.classList.remove('scale-0');
                modalContent.classList.add('scale-100');
            }, 10);
        }

        /**
         * ркЧрлЗрко ркорлЛркбрк▓ ркмркВркз ркХрк░рлЛ
         */
        function closeWinModal() {
            modalContent.classList.remove('scale-100');
            modalContent.classList.add('scale-0');
            setTimeout(() => {
                winModal.classList.add('hidden');
                winModal.classList.remove('flex');
            }, 500);
        }

        /**
         * ркирк╡рлА ркЧрлЗрко рк╢рк░рлВ ркХрк░рлЛ
         */
        function startGame() {
            // рк╕рлНркЯрлЗркЯ рк░рлАрк╕рлЗркЯ ркХрк░рлЛ
            currentSelection.imageCard = null;
            currentSelection.pronounCard = null;
            matchesFound = 0;
            messageDisplay.textContent = '';
            messageDisplay.classList.remove('text-red-600', 'text-green-600');
            messageDisplay.classList.add('text-gray-600');

            // ркХркирлНркЯрлЗркирк░ ркЦрк╛рк▓рлА ркХрк░рлЛ
            imageCardsContainer.innerHTML = '';
            pronounCardsContainer.innerHTML = '';

            // ркбрлЗркЯрк╛ркирлЗ рк╢рклрк▓ ркХрк░рлЛ
            const shuffledImages = [...GAME_DATA];
            const shuffledPronouns = [...GAME_DATA];
            shuffleArray(shuffledImages);
            shuffleArray(shuffledPronouns);

            // ркХрк╛рк░рлНркбрлНрк╕ ркмркирк╛рк╡рлЛ ркЕркирлЗ ркЙркорлЗрк░рлЛ
            shuffledImages.forEach(data => {
                imageCardsContainer.appendChild(createCard('image', data));
            });

            shuffledPronouns.forEach(data => {
                pronounCardsContainer.appendChild(createCard('pronoun', data));
            });

            // ркорлЛркбрк▓ ркмркВркз ркХрк░рлЛ ркЬрлЛ ркЦрлБрк▓рлНрк▓рлБркВ рк╣рлЛркп
            closeWinModal();
        }

        // ркЗрк╡рлЗркирлНркЯ рк▓рк┐рк╕ркирк░рлНрк╕ рк╕рлЗркЯ ркХрк░рлЛ
        newGameButton.addEventListener('click', startGame);
        closeModalButton.addEventListener('click', startGame);

        // рккрлЗркЬ рк▓рлЛркб ркерк╡рк╛ рккрк░ ркЧрлЗрко рк╢рк░рлВ ркХрк░рлЛ
        window.onload = startGame;

    </script>
</body>
</html>
