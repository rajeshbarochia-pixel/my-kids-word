<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рлз ркерлА рлп рк╕рлНрк▓рк╛ркИркбрк┐ркВркЧ рккркЭрк▓</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Gujarati:wght@400;700&display=swap');
        
        body {
            font-family: 'Noto Sans Gujarati', sans-serif;
            background-color: #f0f4f8;
            touch-action: manipulation;
        }

        .puzzle-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            width: 320px;
            height: 320px;
            background-color: #cbd5e1;
            padding: 10px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .tile {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            background-color: #ffffff;
            color: #1e293b;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.1s, background-color 0.2s;
            user-select: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .tile:active {
            transform: scale(0.95);
        }

        .tile.empty {
            background-color: transparent;
            box-shadow: none;
            cursor: default;
        }

        .tile.correct {
            background-color: #dcfce7;
            color: #166534;
        }

        .win-message {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4">

    <div class="text-center mb-10">
        <h1 class="text-3xl font-bold text-blue-800 mb-2">ркЕркВркХ рк╕рлНрк▓рк╛ркИркбрк┐ркВркЧ рккркЭрк▓</h1>
        <p class="text-gray-600 italic">ркЕркВркХрлЛркирлЗ ркХрлНрк░ркоркорк╛ркВ ркЧрлЛркарк╡рлЛ (рлз ркерлА рло)</p>
    </div>

    <div id="win-banner" class="win-message bg-green-500 text-white px-6 py-3 rounded-full font-bold mb-6 shadow-lg">
        рдЕрднрк┐ркиркВркжрки! ркдркорлЗ рккркЭрк▓ ркЙркХрлЗрк▓рлА ркирк╛ркЦрлА! ЁЯОЙ
    </div>

    <div class="puzzle-grid" id="grid">
        <!-- Tiles will be generated by JS -->
    </div>

    <div class="mt-10 flex gap-4">
        <button onclick="shuffleGame()" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-bold transition shadow-md">
            ркирк╡рлА ркЧрлЗрко рк╢рк░рлВ ркХрк░рлЛ
        </button>
    </div>

    <div class="max-w-xs mt-10 text-sm text-gray-500 text-center border-t border-gray-200 pt-6">
        <p class="mb-4"><strong>ркХрлЗрк╡рлА рк░рлАркдрлЗ рк░ркорк╡рлБркВ:</strong> ркЦрк╛рк▓рлА ркЬркЧрлНркпрк╛ркирлА ркмрк╛ркЬрлБркирк╛ ркЕркВркХ рккрк░ ркХрлНрк▓рк┐ркХ ркХрк░рлАркирлЗ ркдрлЗркирлЗ ркЦрк╕рлЗркбрлЛ.</p>
        <div class="font-bold text-blue-900 text-base">
            Created by Rajesh Barochia
        </div>
    </div>

    <script>
        const gujaratiDigits = ['рлз', 'рли', 'рлй', 'рлк', 'рлл', 'рлм', 'рлн', 'рло', ''];
        let tiles = [1, 2, 3, 4, 5, 6, 7, 8, null];
        const gridElement = document.getElementById('grid');
        const winBanner = document.getElementById('win-banner');

        function initGame() {
            render();
        }

        function render() {
            gridElement.innerHTML = '';
            tiles.forEach((tile, index) => {
                const tileDiv = document.createElement('div');
                tileDiv.className = `tile ${tile === null ? 'empty' : ''}`;
                
                if (tile !== null && tile === index + 1) {
                    tileDiv.classList.add('correct');
                }

                tileDiv.textContent = tile !== null ? gujaratiDigits[tile - 1] : '';
                tileDiv.onclick = () => handleTileClick(index);
                gridElement.appendChild(tileDiv);
            });
        }

        function handleTileClick(index) {
            const emptyIndex = tiles.indexOf(null);
            if (isAdjacent(index, emptyIndex)) {
                swap(index, emptyIndex);
                render();
                checkWin();
            }
        }

        function isAdjacent(idx1, idx2) {
            const row1 = Math.floor(idx1 / 3);
            const col1 = idx1 % 3;
            const row2 = Math.floor(idx2 / 3);
            const col2 = idx2 % 3;
            return (Math.abs(row1 - row2) + Math.abs(col1 - col2)) === 1;
        }

        function swap(idx1, idx2) {
            const temp = tiles[idx1];
            tiles[idx1] = tiles[idx2];
            tiles[idx2] = temp;
        }

        function shuffleGame() {
            winBanner.style.display = 'none';
            tiles = [1, 2, 3, 4, 5, 6, 7, 8, null];
            
            // Perform random legal moves to ensure solvability
            for (let i = 0; i < 150; i++) {
                const emptyIndex = tiles.indexOf(null);
                const neighbors = getNeighbors(emptyIndex);
                const randomNeighbor = neighbors[Math.floor(Math.random() * neighbors.length)];
                swap(emptyIndex, randomNeighbor);
            }
            render();
        }

        function getNeighbors(index) {
            const neighbors = [];
            const row = Math.floor(index / 3);
            const col = index % 3;
            if (row > 0) neighbors.push(index - 3);
            if (row < 2) neighbors.push(index + 3);
            if (col > 0) neighbors.push(index - 1);
            if (col < 2) neighbors.push(index + 1);
            return neighbors;
        }

        function checkWin() {
            const winningState = [1, 2, 3, 4, 5, 6, 7, 8, null];
            const isWin = tiles.every((val, index) => val === winningState[index]);
            if (isWin) {
                winBanner.style.display = 'block';
            }
        }

        initGame();
        shuffleGame();
    </script>
</body>
</html>