<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рк╕ркВркЦрлНркпрк╛ ркЬрлНркЮрк╛рки - ркЧркгрк┐ркд рк░ркоркд</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts for Gujarati -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Gujarati:wght@400;600;800&family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- Confetti for celebration -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        body {
            font-family: 'Noto Sans Gujarati', sans-serif;
            background-color: #f0fdf4; /* Light green background */
            touch-action: manipulation; /* Improves touch response */
        }
        
        .bead-necklace {
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }

        .grid-cell {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .grid-cell:active {
            transform: scale(0.9);
        }

        .bouncy-title {
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(-5%); }
            50% { transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Number mapping data
        const gujaratiNumerals = ['рлж', 'рлз', 'рли', 'рлй', 'рлк', 'рлл', 'рлм', 'рлн', 'рло', 'рлп'];
        
        const numberWords = {
            1: "ркПркХ", 2: "ркмрлЗ", 3: "ркдрлНрк░ркг", 4: "ркЪрк╛рк░", 5: "рккрк╛ркВркЪ",
            6: "ркЫ", 7: "рк╕рк╛ркд", 8: "ркЖрка", 9: "ркирк╡", 10: "ркжрк╕",
            11: "ркЕркЧрк┐ркпрк╛рк░", 12: "ркмрк╛рк░", 13: "ркдрлЗрк░", 14: "ркЪрлМркж", 15: "рккркВркжрк░",
            16: "рк╕рлЛрк│", 17: "рк╕ркдрлНркдрк░", 18: "ркЖркврк╛рк░", 19: "ркУркЧркгрлАрк╕", 20: "рк╡рлАрк╕",
            21: "ркПркХрк╡рлАрк╕", 22: "ркмрк╛рк╡рлАрк╕", 23: "ркдрлЗрк╡рлАрк╕", 24: "ркЪрлЛрк╡рлАрк╕", 25: "рккркЪрлАрк╕",
            26: "ркЫрк╡рлАрк╕", 27: "рк╕ркдрлНркдрк╛рк╡рлАрк╕", 28: "ркЕркарлНркарк╛рк╡рлАрк╕", 29: "ркУркЧркгркдрлНрк░рлАрк╕", 30: "ркдрлНрк░рлАрк╕"
        };

        const toGujaratiNumeral = (num) => {
            return num.toString().split('').map(d => gujaratiNumerals[parseInt(d)]).join('');
        };

        // Component to draw a single bead necklace (10 beads)
        const BeadNecklace = () => (
            <div className="relative w-16 h-16 m-1">
                <svg viewBox="0 0 100 100" className="w-full h-full drop-shadow-md">
                    <circle cx="50" cy="50" r="35" fill="none" stroke="#fbbf24" strokeWidth="2" />
                    {[...Array(10)].map((_, i) => {
                        const angle = (i * 36) * (Math.PI / 180);
                        const cx = 50 + 35 * Math.cos(angle);
                        const cy = 50 + 35 * Math.sin(angle);
                        return <circle key={i} cx={cx} cy={cy} r="8" fill="#d97706" stroke="#fff" strokeWidth="1" />;
                    })}
                </svg>
            </div>
        );

        // Component to draw loose beads
        const LooseBead = () => (
            <div className="w-8 h-8 m-1 transition-all duration-300 hover:scale-110">
                <svg viewBox="0 0 20 20" className="w-full h-full drop-shadow-sm">
                    <circle cx="10" cy="10" r="8" fill="#d97706" stroke="#fff" strokeWidth="1" />
                </svg>
            </div>
        );

        const App = () => {
            const [targetNumber, setTargetNumber] = useState(21); // Start with example from image
            const [gridState, setGridState] = useState(Array(30).fill(false)); // 3 rows of 10
            const [feedback, setFeedback] = useState({ show: false, correct: false, message: '' });
            const [score, setScore] = useState(0);

            // Generate a random number between 1 and 30
            const generateNewNumber = () => {
                const newNum = Math.floor(Math.random() * 30) + 1;
                setTargetNumber(newNum);
                setGridState(Array(30).fill(false)); // Reset grid
                setFeedback({ show: false, correct: false, message: '' });
            };

            const coloredCount = useMemo(() => gridState.filter(Boolean).length, [gridState]);

            const toggleCell = (index) => {
                if (feedback.correct) return; // Disable editing if already won
                
                const newGrid = [...gridState];
                newGrid[index] = !newGrid[index];
                setGridState(newGrid);
                
                // Play a generic click sound effect (simulated visually by transform)
            };

            const checkAnswer = () => {
                if (coloredCount === targetNumber) {
                    setFeedback({ show: true, correct: true, message: 'ркЦрлВркм рк╕рк░рк╕! ркЬрк╡рк╛ркм рк╕рк╛ркЪрлЛ ркЫрлЗ!' });
                    setScore(s => s + 1);
                    confetti({
                        particleCount: 100,
                        spread: 70,
                        origin: { y: 0.6 },
                        colors: ['#ef4444', '#3b82f6', '#fbbf24', '#10b981']
                    });
                } else {
                    const diff = Math.abs(targetNumber - coloredCount);
                    const msg = coloredCount < targetNumber 
                        ? `рк╣ркЬрлБ ${toGujaratiNumeral(targetNumber - coloredCount)} ркЦрк╛ркирк╛ркорк╛ркВ рк░ркВркЧ рккрлВрк░рлЛ!` 
                        : `${toGujaratiNumeral(coloredCount - targetNumber)} ркЦрк╛ркирк╛ рк╡ркзрк╛рк░рлЗ рк░ркВркЧрк╛ркпрлЗрк▓рк╛ ркЫрлЗ, ркдрлЗркирлЗ ркХрк╛ркврлА ркирк╛ркЦрлЛ!`;
                    setFeedback({ show: true, correct: false, message: msg });
                }
            };

            const tens = Math.floor(targetNumber / 10);
            const units = targetNumber % 10;

            return (
                <div className="min-h-screen bg-orange-50 flex flex-col items-center py-6 px-4 select-none">
                    
                    {/* Header */}
                    <header className="w-full max-w-4xl flex justify-between items-center mb-6 bg-white p-4 rounded-2xl shadow-lg border-b-4 border-orange-200">
                        <div className="flex items-center gap-2">
                            <span className="text-3xl">ЁЯОи</span>
                            <h1 className="text-2xl md:text-3xl font-bold text-orange-600">рк╕ркВркЦрлНркпрк╛ рк░ркВркЧрккрлВрк░ркгрлА</h1>
                        </div>
                        <div className="bg-orange-100 px-4 py-2 rounded-full">
                            <span className="text-orange-800 font-bold">рк╕рлНркЯрк╛рк░: {toGujaratiNumeral(score)}</span>
                        </div>
                    </header>

                    <main className="w-full max-w-4xl flex flex-col md:flex-row gap-6">
                        
                        {/* Left Panel: Target & Visuals */}
                        <div className="w-full md:w-1/3 flex flex-col gap-4">
                            {/* Target Card */}
                            <div className="bg-white p-6 rounded-3xl shadow-xl border-4 border-blue-200 text-center relative overflow-hidden group">
                                <div className="absolute top-0 left-0 w-full h-2 bg-blue-400"></div>
                                <h2 className="text-gray-500 text-lg font-semibold mb-2">ркЖ рк╕ркВркЦрлНркпрк╛ ркмркирк╛рк╡рлЛ:</h2>
                                <div className="text-7xl font-bold text-blue-600 mb-2 bouncy-title">
                                    {toGujaratiNumeral(targetNumber)}
                                </div>
                                <div className="text-2xl text-blue-800 font-bold bg-blue-50 py-2 rounded-lg">
                                    {numberWords[targetNumber]}
                                </div>
                            </div>

                            {/* Beads Visualization (Hint) */}
                            <div className="bg-white p-4 rounded-3xl shadow-lg border-2 border-yellow-200">
                                <h3 className="text-gray-400 text-sm font-bold mb-3 text-center border-b pb-2">ркоркжркж ркорк╛ркЯрлЗ (Hint)</h3>
                                <div className="flex flex-wrap justify-center items-center gap-2">
                                    {/* Tens */}
                                    {[...Array(tens)].map((_, i) => (
                                        <div key={`ten-${i}`} className="flex flex-col items-center bead-necklace" style={{animationDelay: `${i*0.2}s`}}>
                                            <BeadNecklace />
                                            <span className="text-xs text-gray-400">рлзрлж</span>
                                        </div>
                                    ))}
                                    {/* Divider if both exist */}
                                    {tens > 0 && units > 0 && <div className="w-px h-12 bg-gray-200 mx-1"></div>}
                                    {/* Units */}
                                    <div className="flex flex-wrap justify-center max-w-[120px]">
                                        {[...Array(units)].map((_, i) => (
                                            <LooseBead key={`unit-${i}`} />
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Right Panel: Interactive Grid */}
                        <div className="w-full md:w-2/3 bg-white p-4 md:p-6 rounded-3xl shadow-xl border-4 border-pink-200 flex flex-col items-center">
                            
                            <div className="mb-4 flex justify-between w-full items-end">
                                <h2 className="text-lg font-bold text-gray-600">
                                    ркЦрк╛ркирк╛ркорк╛ркВ рк░ркВркЧ рккрлВрк░рлЛ: <span className="text-pink-600 text-2xl ml-2">{toGujaratiNumeral(coloredCount)}</span>
                                </h2>
                                <button 
                                    onClick={() => setGridState(Array(30).fill(false))}
                                    className="text-xs text-gray-400 hover:text-red-500 underline"
                                >
                                    ркмркзрлБркВ рк╕рк╛ркл ркХрк░рлЛ (Clear)
                                </button>
                            </div>

                            {/* The Grid */}
                            <div className="grid grid-cols-10 gap-1 md:gap-2 p-3 bg-gray-50 rounded-xl border border-gray-200 mb-6 touch-manipulation">
                                {gridState.map((isActive, index) => (
                                    <div
                                        key={index}
                                        onClick={() => toggleCell(index)}
                                        className={`
                                            w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 
                                            border-2 rounded-md cursor-pointer grid-cell
                                            flex items-center justify-center
                                            ${isActive 
                                                ? 'bg-pink-500 border-pink-600 shadow-inner' 
                                                : 'bg-white border-gray-300 hover:bg-pink-50 hover:border-pink-300'}
                                        `}
                                    >
                                        {/* Optional: Show numbers inside for easy counting? No, keep it visual like the image */}
                                        {/* {isActive && <div className="w-2 h-2 bg-white/50 rounded-full"></div>} */}
                                    </div>
                                ))}
                            </div>

                            {/* Controls */}
                            <div className="flex flex-col w-full gap-3">
                                {feedback.show && (
                                    <div className={`p-3 rounded-xl text-center font-bold animate-pulse ${feedback.correct ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>
                                        {feedback.message}
                                    </div>
                                )}

                                <div className="flex gap-4 justify-center mt-2">
                                    {!feedback.correct ? (
                                        <button 
                                            onClick={checkAnswer}
                                            className="flex-1 bg-gradient-to-b from-green-400 to-green-600 text-white py-3 px-8 rounded-xl font-bold text-xl shadow-lg transform active:scale-95 transition-transform hover:shadow-xl border-b-4 border-green-700"
                                        >
                                            ркдрккрк╛рк╕рлЛ (Check)
                                        </button>
                                    ) : (
                                        <button 
                                            onClick={generateNewNumber}
                                            className="flex-1 bg-gradient-to-b from-blue-400 to-blue-600 text-white py-3 px-8 rounded-xl font-bold text-xl shadow-lg transform active:scale-95 transition-transform hover:shadow-xl border-b-4 border-blue-700 animate-bounce"
                                        >
                                            ркЖркЧрк│ рк╡ркзрлЛ тЮЬ
                                        </button>
                                    )}
                                </div>
                            </div>

                        </div>
                    </main>

                    {/* Footer */}
                    <footer className="mt-12 text-center text-gray-500 font-medium">
                        <p className="text-sm">Created by: Rajesh barochia</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>