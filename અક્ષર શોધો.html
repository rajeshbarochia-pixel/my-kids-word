<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>àª…àª•à«àª·àª° àª®àªœàª¾ - àª—à«àªœàª°àª¾àª¤à«€ àª°àª®àª¤</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Vadodara:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-bg: #fff9db;
            --card-bg: #ffffff;
            --accent: #ff6b6b;
        }

        body {
            font-family: 'Hind Vadodara', sans-serif;
            background: linear-gradient(135deg, #FFDEE9 0%, #B5FFFC 100%);
            min-height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            user-select: none;
            padding: 20px;
        }

        .game-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 2.5rem;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            width: 95%;
            max-width: 550px;
            padding: 2.5rem 2rem;
            border: 10px solid #fff;
            position: relative;
        }

        .floating-emoji {
            position: absolute;
            font-size: 2rem;
            animation: float 3s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }

        .target-box {
            width: 130px;
            height: 130px;
            background: white;
            border: 8px solid #ffcc33;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4.5rem;
            font-weight: bold;
            color: #d35400;
            margin: 0 auto 1.5rem;
            box-shadow: 0 10px 0 #f39c12;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .target-box:active { transform: scale(0.9); }

        .word-item {
            font-size: 2.8rem;
            background: #fff;
            margin-bottom: 1rem;
            padding: 0.5rem 1.5rem;
            border-radius: 1.5rem;
            border: 3px solid #eee;
            display: flex;
            justify-content: center;
            gap: 12px;
            box-shadow: 0 5px 0 #ddd;
            width: 100%;
        }

        .letter-btn {
            cursor: pointer;
            position: relative;
            z-index: 1;
            padding: 0 5px;
            border-radius: 15px;
        }

        .letter-btn.selected::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            border: 5px solid #ff4757;
            border-radius: 50%;
            background: rgba(255, 71, 87, 0.1);
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        @keyframes popIn {
            from { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .btn-action {
            background: #2ed573;
            color: white;
            font-size: 1.8rem;
            font-weight: bold;
            padding: 0.8rem 2.5rem;
            border-radius: 2rem;
            box-shadow: 0 6px 0 #26af5c;
            transition: all 0.1s;
            margin-top: 1rem;
        }

        .btn-action:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 #26af5c;
        }

        .particle {
            position: absolute;
            pointer-events: none;
            z-index: 100;
        }
    </style>
</head>
<body>

    <div class="game-card">
        <div class="text-center">
            <p class="text-2xl font-bold text-gray-700 mb-2">àª† àª…àª•à«àª·àª° àª¶à«‹àª§à«‹: ğŸ‘‡</p>
            <div class="target-box" id="target-display" onclick="speakTarget()">
                ?
            </div>
            <p id="instruction" class="text-xl font-semibold text-gray-600 mb-6 italic">
                àª¶àª¬à«àª¦à«‹àª®àª¾àª‚àª¥à«€ àª¸àª¾àªšà«‹ àª…àª•à«àª·àª° àª¶à«‹àª§à«‹!
            </p>
        </div>

        <div id="word-list" class="flex flex-col items-center">
            <!-- Words appear here -->
        </div>

        <div class="flex justify-center mt-6">
            <button id="next-btn" class="btn-action hidden" onclick="generateLevel()">
                àª†àª—àª³ àªµàª§à«‹ ğŸš€
            </button>
        </div>

        <div class="mt-8 pt-4 border-t border-gray-200 text-center text-gray-400 font-bold text-sm">
            Created by: Rajesh barochia
        </div>
    </div>

    <!-- Celebration Screen -->
    <div id="win-screen" class="fixed inset-0 bg-white z-50 hidden flex-col items-center justify-center text-center p-6">
        <div class="text-9xl mb-4">ğŸ†</div>
        <h1 class="text-5xl font-bold text-green-600 mb-4">àª…àª¦à«àª­à«àª¤ àª•àª¾àª®!</h1>
        <p class="text-2xl text-gray-600 mb-8">àª¤àª®à«‡ àª¬àª§à«€ àª°àª®àª¤à«‹ àªªà«‚àª°à«àª£ àª•àª°à«€ àª›à«‡!</p>
        <button class="btn-action" onclick="location.reload()">àª«àª°à«€ àª°àª®à«‹ ğŸ”„</button>
        <div class="mt-12 text-gray-500 font-bold">Created by: Rajesh barochia</div>
    </div>

    <script>
        const dictionary = {
            'àª•': ['àª•àª®àª³', 'àª•àª¾àª¤àª°', 'àª•àª¾àª¨', 'àª•àª¬à«‚àª¤àª°', 'àª•àª°', 'àª•àª²àª®', 'àª•àª²àª°'],
            'àª–': ['àª–àª²', 'àª–àª®à«€àª¸', 'àª–àªœà«‚àª°', 'àª–àª°àª²', 'àª–àª¤'],
            'àª—': ['àª—àª£àªªàª¤àª¿', 'àª—àª¾àª¯', 'àª—àª¢', 'àªœàª—àª¤', 'àªœàª²à«‡àª¬à«€', 'àª—àª®àª¨'],
            'àª˜': ['àª˜àª°', 'àª˜àª¡àª¿àª¯àª¾àª³', 'àª˜à«‹àª¡à«‹', 'àª˜àª¾àª¸', 'àª˜à«€'],
            'àªš': ['àªšàª•àª²à«€', 'àªšàª•àª°àª¡à«€', 'àªšàª°àª£', 'àªšàª®àªšà«€', 'àªšàª¿àª¤à«‹'],
            'àªœ': ['àªœàª®àª°à«‚àª–', 'àªœàª¹àª¾àªœ', 'àªœàª—', 'àªœàª®àª¨àª¾', 'àªœàª—àª¤'],
            'àª¤': ['àª¤àªªà«‡àª²à«€', 'àª¤àª°àª¬à«‚àªš', 'àª¤àª²àªµàª¾àª°', 'àª¤àª¾àª°à«‹', 'àª¤àª•'],
            'àª¨': ['àª¨àª®àª¨', 'àª¨àª—àª°', 'àª¨àª³', 'àª¨àª¾àª•', 'àª¨àª¦à«€', 'àª¨àªµà«€àª¨'],
            'àªª': ['àªªàªªàª¾', 'àªªàªµàª¨', 'àªªàª—', 'àªªàª¾àª£à«€', 'àªªàª—'],
            'àª¬': ['àª¬àª¤àª•', 'àª¬àª•àª°à«€', 'àª¬àª³àª¦', 'àª¬àª¾àª°àª£à«àª‚', 'àª¬àª¸'],
            'àª®': ['àª®àª—àª°', 'àª®àª•àª¾àª¨', 'àª®àª¾àª®àª¾', 'àª•àª¾àª—àª³', 'àª®àª®àª°àª¾', 'àª°àª®àª¤'],
            'àª°': ['àª°àª®àª¤', 'àª°àª¥', 'àª—àª®àª¤', 'àª°àª¾àªœàª¾', 'àª°àª¾àª¤'],
            'àª²': ['àª²àª–à«‹àªŸà«€', 'àª²àª¸àª£', 'àª²àªªàª¸àª£à«€', 'àª²àª¾àª¡à«', 'àª²àª¾àª²'],
            'àª¸': ['àª¸àª¸àª²à«€', 'àª¸à«àª°àªœ', 'àª¸àª¾àªª', 'àª¸àª¾àª—àª°', 'àª¸àª®àªœ'],
            'àª¹': ['àª¹àª¾àª¥à«€', 'àª¹àª°àª£', 'àª¹àª³', 'àª¹àªµàª¾', 'àª¹àª¾àª¥']
        };

        const targetLetters = Object.keys(dictionary);
        let currentTarget = '';
        let score = 0;
        let level = 1;
        let itemsFound = 0;
        let totalInLevel = 0;

        const synth = window.speechSynthesis;

        function speak(text) {
            if (synth.speaking) synth.cancel();
            const utter = new SpeechSynthesisUtterance(text);
            utter.lang = 'gu-IN';
            utter.rate = 0.9;
            synth.speak(utter);
        }

        function speakTarget() {
            speak(currentTarget);
        }

        function getGraphemes(text) {
            return text.match(/[\u0A80-\u0AFF][\u0ABC\u0ABE-\u0ACD\u0AE2\u0AE3]*|./gu) || [];
        }

        function generateLevel() {
            if (level > 10) {
                document.getElementById('win-screen').classList.remove('hidden');
                return;
            }

            currentTarget = targetLetters[Math.floor(Math.random() * targetLetters.length)];
            
            let wordsPool = dictionary[currentTarget];
            let levelWords = [...wordsPool].sort(() => 0.5 - Math.random()).slice(0, 4);
            
            document.getElementById('target-display').innerText = currentTarget;
            document.getElementById('next-btn').classList.add('hidden');
            document.getElementById('instruction').innerText = `àª¶àª¬à«àª¦à«‹àª®àª¾àª‚àª¥à«€ àª¸àª¾àªšà«‹ "${currentTarget}" àª…àª•à«àª·àª° àª¶à«‹àª§à«‹! ğŸ§`;
            
            const listContainer = document.getElementById('word-list');
            listContainer.innerHTML = '';
            
            itemsFound = 0;
            totalInLevel = 0;

            levelWords.forEach(word => {
                const wordDiv = document.createElement('div');
                wordDiv.className = 'word-item';
                
                const chars = getGraphemes(word);
                chars.forEach(char => {
                    if (char === currentTarget) totalInLevel++;
                    
                    const span = document.createElement('span');
                    span.className = 'letter-btn';
                    span.innerText = char;
                    span.onclick = () => checkLetter(span, char);
                    wordDiv.appendChild(span);
                });
                
                listContainer.appendChild(wordDiv);
            });

            level++;
            speak("àª…àª•à«àª·àª° " + currentTarget + " àª¶à«‹àª§à«‹");
        }

        function checkLetter(el, char) {
            if (el.classList.contains('selected') || el.classList.contains('wrong')) return;

            if (char === currentTarget) {
                el.classList.add('selected');
                score += 10;
                itemsFound++;
                
                createParticles(el);
                
                if (itemsFound === totalInLevel) {
                    speak("àª–à«‚àª¬ àª¸àª°àª¸!");
                    document.getElementById('next-btn').classList.remove('hidden');
                }
            } else {
                el.classList.add('wrong');
                el.style.color = '#ccc';
                score = Math.max(0, score - 2);
                
                el.animate([
                    { transform: 'translateX(0px)' },
                    { transform: 'translateX(-5px)' },
                    { transform: 'translateX(5px)' },
                    { transform: 'translateX(0px)' }
                ], { duration: 200 });
            }
        }

        function createParticles(el) {
            const rect = el.getBoundingClientRect();
            for (let i = 0; i < 6; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.innerText = ['âœ¨', 'â­', 'ğŸˆ', 'ğŸŒˆ'][Math.floor(Math.random()*4)];
                p.style.left = (rect.left + rect.width/2) + 'px';
                p.style.top = (rect.top + rect.height/2) + 'px';
                document.body.appendChild(p);
                
                const angle = Math.random() * Math.PI * 2;
                const velocity = 2 + Math.random() * 4;
                
                let posX = 0;
                let posY = 0;
                
                const anim = setInterval(() => {
                    posX += Math.cos(angle) * velocity;
                    posY += Math.sin(angle) * velocity;
                    p.style.transform = `translate(${posX}px, ${posY}px)`;
                    p.style.opacity = parseFloat(p.style.opacity || 1) - 0.05;
                    
                    if (parseFloat(p.style.opacity) <= 0) {
                        clearInterval(anim);
                        p.remove();
                    }
                }, 16);
            }
        }

        function addBackgroundEffects() {
            const emojis = ['ğŸ¨', 'ğŸ­', 'ğŸ§¸', 'ğŸ¦', 'ğŸ', 'ğŸ§©'];
            for(let i=0; i<8; i++) {
                const e = document.createElement('div');
                e.className = 'floating-emoji';
                e.innerText = emojis[Math.floor(Math.random()*emojis.length)];
                e.style.left = Math.random() * 90 + 'vw';
                e.style.top = Math.random() * 90 + 'vh';
                e.style.animationDelay = (Math.random() * 2) + 's';
                document.body.appendChild(e);
            }
        }

        window.onload = () => {
            addBackgroundEffects();
            generateLevel();
        };
    </script>
</body>
</html>